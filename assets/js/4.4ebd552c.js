(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{316:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(98),n(33),n(25),n(317),n(99),n(100),n(177),n(318),n(175);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},317:function(t,e,n){var i=n(0),r=n(1),o=n(15),a=n(26).f,s=n(6),u=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},318:function(t,e,n){var i=n(0),r=n(6);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(176)})},319:function(t,e,n){"use strict";var i=n(6),r=n(3),o=n(105),a=n(18),s=n(8),u=n(27),l=n(327),c=n(48),h=n(1),p=n(28),d=n(74).f,f=n(26).f,g=n(7).f,m=n(323).trim,y=r.Number,v=y.prototype,b="Number"==u(p(v)),O=function(t){var e,n,i,r,o,a,s,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=m(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>r)return NaN;return parseInt(o,i)}return+l};if(o("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(b?h((function(){v.valueOf.call(n)})):"Number"!=u(n))?l(new y(O(e)),n,k):O(e)},S=i?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j=0;S.length>j;j++)s(y,w=S[j])&&!s(k,w)&&g(k,w,f(y,w));k.prototype=v,v.constructor=k,a(r,"Number",k)}},321:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},322:function(t,e,n){"use strict";var i=n(103),r=n(5),o=n(12),a=n(20),s=n(106),u=n(104);i("match",(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,this,t);if(i.done)return i.value;var a=r(this),l=String(t);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;for(var h,p=[],d=0;null!==(h=u(a,l));){var f=String(h[0]);p[d]=f,""===f&&(a.lastIndex=s(l,o(a.lastIndex),c)),d++}return 0===d?null:p}]}))},323:function(t,e,n){var i=n(20),r="["+n(321)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},324:function(t,e,n){var i=n(0),r=n(431);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},327:function(t,e,n){var i=n(4),r=n(75);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},373:function(t,e,n){},374:function(t,e,n){},375:function(t,e,n){},431:function(t,e,n){var i=n(3),r=n(323).trim,o=n(321),a=i.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=r(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},432:function(t,e,n){"use strict";var i=n(103),r=n(5),o=n(20),a=n(433),s=n(104);i("search",(function(t,e,n){return[function(e){var n=o(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,this,t);if(i.done)return i.value;var o=r(this),u=String(t),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,l)||(o.lastIndex=l),null===c?-1:c.index}]}))},433:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},434:function(t,e,n){"use strict";n(373)},435:function(t,e,n){"use strict";n(374)},436:function(t,e,n){"use strict";n(375)},440:function(t,e,n){"use strict";n.r(e),n.d(e,"amapLoader",(function(){return s})),n.d(e,"locaLoader",(function(){return u}));n(99),n(100),n(73),n(324),n(319),n(179),n(98),n(101),n(178);var i=n(31),r=n(46);n(32),n(69),n(76),n(9),n(71),n(34),n(181),n(180),n(107),n(49);function o(t,e,n){return new Promise((function(i,r){if(window[t])i(window[t]);else{var o=document.createElement("script"),a=e+"?",s=n.plugins;s&&(delete n.plugins,Array.isArray(s)&&(s=s.map((function(t){if("string"==typeof t)return 1===t.split(".").length?"AMap.".concat(t):t;throw new Error("member of plugins must be string")})),n.plugin=s.join(",")),"string"==typeof s&&(n.plugin=s));var u="";for(var l in n.v||(n.v="1.4.15"),n)u+="".concat(l,"=").concat(n[l],"&");u.slice(0,u.length-1),o.src=a+u,document.head.append(o),o.onload=function(){window[t]?i(window[t]):r(void 0)}}}))}function a(t){var e,n;function r(){return(r=Object(i.a)(regeneratorRuntime.mark((function i(r,a){var s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.next=2;break;case 2:return i.prev=2,i.next=5,o(t,r,a);case 5:s=i.sent,e&&e(s),i.next=13;break;case 9:throw i.prev=9,i.t0=i.catch(2),n&&n("Failed to load ".concat(t," API at given ").concat(r)),new Error("".concat(i.t0));case 13:case"end":return i.stop()}}),i,this,[[2,9]])})))).apply(this,arguments)}var a=new Promise((function(t,i){e=t,n=i}));return a.init=function(t,e){return r.apply(this,arguments)},a}var s=a("AMap"),u=a("Loca"),l=(n(33),n(36),n(50),n(10),n(14),n(68));n(317);var c={data:function(){return{target:null,events:[],handleMap:{}}},mounted:function(){this.checkTarget()},beforeDestroy:function(){for(var t in this.handleMap)t&&this.target&&this.target.off(t,this.handleMap[t])},methods:{checkTarget:function(){this.target?(this.initEvents(),this.complete()):setTimeout(this.checkTarget,50)},initEvents:function(){var t,e=this,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(l.a)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.events);try{var i=function(){var n=t.value,i=function(t){e.$emit(n,t)},r=Object.getOwnPropertyDescriptor(e,n);r&&"function"==typeof r.value&&(i=function(t){r.value.call(null,t),e.$emit(n,t)}),e.handleMap[n]=i,e.target.on(n,i)};for(n.s();!(t=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}},complete:function(){this.$emit("complete",this.target)}}},h={mixins:[c],name:"amap-map",provide:function(){return{getMap:this.getMap}},props:{height:{type:[Number,String],default:"100%"},width:{type:[Number,String],default:"100%"},layers:{type:Array},zooms:{type:Array},lang:{type:String},animateEnable:{type:Boolean,default:!0},isHotspot:{type:Boolean,default:!1},rotateEnable:{type:Boolean,default:!0},resizeEnable:{type:Boolean,default:!0},showIndoorMap:{type:Boolean,default:!0},expandZoomRange:{type:Boolean,default:!0},dragEnable:{type:Boolean,default:!0},zoomEnable:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},keyboardEnable:{type:Boolean,default:!0},jogEnable:{type:Boolean,default:!0},scrollWheel:{type:Boolean,default:!0},touchZoom:{type:Boolean,default:!0},mapStyle:{type:String},features:{type:Array},showBuildingBlock:{type:Boolean,default:!0},pitchEnable:{type:Boolean,default:!0},buildingAnimation:{type:Boolean,default:!0},skyColor:{type:String},mask:{type:Array},zoom:{type:Number,default:13},pitch:{type:Number,default:0},rotation:{type:Number,default:0},center:{type:[Object,Array]},bounds:{type:Object},city:{type:String},limitBounds:{type:Boolean},mapStatus:{type:Object},defaultCursor:{type:String},showLabel:{type:Boolean,default:!0},crs:{type:String,default:"EPSG3857",validator:function(t){return-1!==["EPSG3857","EPSG3395","EPSG4326"].indexOf(t)}},viewMode:{type:String,default:"2D",validator:function(t){return-1!==["2D","3D"].indexOf(t)}}},data:function(){return{target:null,timer:null,events:["click","dbclick","mapmove","hotspotclick","hotspotover","hotspotout","movestart","moveend","zoomchange","zoomstart","zoomend","mousemove","mousewheel","mouseover","mouseout","mouseup","mousedown","rightclick","dragstart","dragging","dragend","resize","touchstart","touchmove","touchend"]}},created:function(){},mounted:function(){for(var t=this,e=Object.keys(this.$props),n={},i=0,r=e;i<r.length;i++){var o=r[i];void 0!==this.$props[o]&&(n[o]=this.$props[o])}s.then((function(e){var i;if(Array.isArray(t.center))i=t.center;else if(t.center){var r=t.center,o=r.lng,a=r.lat;i=new e.LngLat(o,a)}n.center=i,t.target=new e.Map(t.$el,n),t.city&&t.target.setCity(t.city),t.target.on("complete",(function(){t.updateCity()}))}))},watch:{center:function(t){this.target&&this.target.setCenter(t)},rotation:function(t){this.target&&this.target.setRotation(t),this.updateBounds()},pitch:function(t){this.target&&this.pitchEnable&&this.target.setPitch(t),this.updateBounds()},zoom:function(t){this.target&&this.zoomEnable&&this.target.setZoom(t),this.updateBounds()},lang:function(t){this.target&&this.target.setLang(t)},city:function(t){this.target&&this.target.setCity(t)},limitBounds:function(t){if(!this.bounds)throw new Error("Make sure to set bounds when limitBounds is true");t?this.target.setLimitBounds(this.bounds):this.target.clearLimitBounds()},mapStatus:{deep:!0,immediate:!1,handler:function(t,e){var n=Object.keys(t),i={};for(var r in n)"boolean"==typeof t[r]&&t[r]!==e[r]&&(i[r]=t[r]);Object.keys(i).length>0&&this.target.setStatus(i)}},defaultCursor:function(t){this.target&&this.target.setDefaultCursor(t)},features:function(t){this.target&&this.target.setFeatures(t)},mapStyle:function(t){this.target&&this.target.setMapStyle(t)}},methods:{mousedown:function(){var t=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.timer||(this.timer=setInterval((function(){t.$emit("update:pitch",t.target&&t.target.getPitch()),t.$emit("update:rotation",t.target&&t.target.getRotation())}),100))},mouseup:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},zoomchange:function(){this.$emit("update:zoom",this.target.getZoom()),this.updateBounds()},moveend:function(){this.$emit("update:center",this.target.getCenter()),this.updateBounds(),this.updateCity()},getMap:function(t){var e=this;this.target?t(this.target):setTimeout((function(){e.getMap(t)}),50)},updateBounds:function(){var t;if("2D"===this.viewMode)t=this.target.getBounds();else{var e=this.target.getBounds();"AMap.ArrayBounds"===e.CLASS_NAME&&(t=e.toBounds())}this.$emit("update:bounds",t)},updateCity:function(){var t=this;this.target.getCity((function(e){var n=e.city;t.$emit("update:city",n),t.$emit("getCity",e)}))},setCenter:function(t){this.target&&this.target.setCenter(t)}},beforeDestroy:function(){},destroyed:function(){this.target.destroy(),this.target=null},deactivated:function(){}},p=n(24),d=Object(p.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{width:"number"==typeof this.width?this.width+"px":this.width,height:"number"==typeof this.height?this.height+"px":this.height}},[this._t("default")],2)}),[],!1,null,null,null).exports;n(183),n(184),n(25),n(322),n(432);function f(){var t=document.getElementsByTagName("script"),e=/https:\/\/webapi.amap.com\/maps?/;return Object(r.a)(t).map((function(t){return t.outerHTML.match(e)})).filter((function(t){return t&&t.input}))[0].input.search(/v=2.0/)>0?"v2":"v1"}function g(t,e,n){return"geojson"===e.type?e:("FeatureCollection"===e.type?i=e:e.length&&0!==e.length&&(i={type:"FeatureCollection",features:[]},e.forEach((function(t){var e={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[]}},r=t.longitude,o=t.latitude;e.properties[n]=t[n],e.geometry.coordinates=[r,o],i.features.push(e)}))),new t.GeoJSONSource({data:i}));var i}var m={props:{visible:{type:[Boolean,Function],default:!0}},inject:["getMap"],data:function(){return{target:null,options:null,locas:["HeatMap","Hexagon"],mapVersion:null}},watch:{visible:function(t){this.target&&(t?this.target.show():this.target.hide())}},created:function(){!this.options&&(this.options={});for(var t=0,e=Object.keys(this.$props);t<e.length;t++){var n=e[t];"visible"!==n&&(void 0!==this.$props[n]&&(this.options[n]=this.$props[n]))}},beforeMount:function(){this.getMap(this.mapGetter)},beforeDestroy:function(){"v2"===this.mapVersion?this.target&&this._map.remove(this.target):this.target&&this.target.setMap&&this.target.setMap(null),this.target=null,this.$emit("destroy")},methods:{mapGetter:function(t){var e=this;this._map=t,this.mapVersion=f(),setTimeout((function(){if(e.target){e.visible||e.target.hide();var n=e.target.CLASS_NAME||e.target.className;if("AMAp.InfoWindow"===n)return;"v2"===e.mapVersion||"AMap.LabelsLayer"===n?(e.locas.includes(n)&&e.$parent.getLoca((function(t){return t.add(e.target)})),t.add(e.target),"AMap.MassMarks"===n&&e.target.setMap&&e.target.setMap(t)):e.target.setMap&&e.target.setMap(t)}}),0)}}},y={name:"amap-marker",mixins:[m,c],props:{topWhenClick:Boolean,bubble:Boolean,raiseOnDrag:Boolean,cursor:String,autoRotation:Boolean,anchor:String,offset:Object,icon:[Object,String],draggable:Boolean,zIndex:Number,angle:Number,animation:String,title:String,shadow:Object,content:[String,HTMLElement],label:[Object,String],labelOffset:Object,labelDirection:String,extData:Object,position:[Object,Array]},data:function(){return{events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]}},watch:{position:function(t){this.target&&this.target.setPosition(t)},label:function(t){var e=document.createElement("div");e.textContent=t,this.target&&this.target.setLabel({content:e.outerHTML})}},mounted:function(){var t=this;s.then((function(e){t.target=new e.Marker(t.options),t.visible||t.target.hide();var n=t.label;if("string"==typeof n){var i=document.createElement("div");i.textContent=n,t.target&&t.target.setLabel({content:i.outerHTML})}t.renderSlot()}))},methods:{renderSlot:function(){var t=this.content,e=this.label;if(t)return this.target.setContent(t);if(e){var n=e;return"string"==typeof e&&(n={offset:this.labelOffset,content:e,direction:this.labelDirection||"right"}),this.target.setLabel(n)}var i=this.$slots,r=i.content,o=i.label;if(r){if(r.length>1)throw new Error("multi content slots in single marker");var a=this.$refs.hiddenBox.firstElementChild;if(a)return this.target.setContent(a)}if(o){if(o.length>1)throw new Error("multi label slots in single marker");var s=this.$refs.hiddenBox.firstElementChild;if(s){var u={offset:this.labelOffset,content:s,direction:this.labelDirection||"right"};return this.target.setLabel(u)}}}}},v=(n(434),Object(p.a)(y,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("content"),this._v(" "),this._t("label")],2)}),[],!1,null,"03fe5b1f",null).exports),b={name:"amap-polyline",mixins:[c,m],data:function(){return{target:null,options:{},events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}},props:{zIndex:Number,bubble:Boolean,cursor:String,geodesic:Boolean,isOutline:Boolean,outlineColor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,strokeStyle:{type:String,default:"solid",validator:function(t){return-1!==["solid","dashed"].indexOf(t)}},strokeDasharray:Array,lineJoin:String,lineCap:String,draggable:Boolean,showDir:Boolean,extData:Object,path:{type:Array,required:!0},isEditor:{type:Boolean,default:!1}},watch:{path:function(t){this.target&&this.target.setPath(t)},polylineOptions:{deep:!0,immediate:!1,handler:function(t){this.target&&this.target.setOptions(t)}}},computed:{polylineOptions:function(){return{showDir:this.showDir||!1,strokeColor:this.strokeColor||"green",strokeOpacity:this.strokeOpacity||1,strokeWeight:this.strokeWeight||2,draggable:this.draggable||!1,lineJoin:this.lineJoin||"miter",lineCap:this.lineCap||"butt",strokeDasharray:this.strokeDasharray||[],strokeStyle:this.strokeStyle||"solid",isOutline:this.isOutline||!1,borderWeight:this.borderWeight||0}}},created:function(){var t=this;s.then((function(e){t.target=new e.Polyline(t.options);var n=e.v||e.version;t.isEditor&&("2.0"===n?t.$parent.createPolylineEditor&&t.$parent.createPolylineEditor(t.target):t.$parent.createPolyEditor&&t.$parent.createPolyEditor(t.target))}))},render:function(){return this.$slots.default}},O={name:"amap-infowindow",mixins:[m,c],props:{isCustom:Boolean,autoMove:Boolean,closeWhenClickMap:{type:Boolean,default:!0},content:[String,HTMLDivElement],size:Object,anchor:String,offset:Object,position:{type:[Object,Array],required:!0},showShadow:Boolean,data:[String,Number,Object]},data:function(){return{target:null,options:{},events:["open","change","close"]}},watch:{position:function(t){this.target&&this.target.setPosition(t)},visible:function(t){var e=this;this.target&&(t?this.getMap((function(t){!e.target.getIsOpen()&&e.target.open(t,e.position)})):this.target.getIsOpen()&&this.target.close())}},created:function(){var t=this;s.then((function(e){t.target=new e.InfoWindow(t.options),t.getMap((function(e){t.visible?t.target.open(e,t.position):t.target.close(),t.renderContent()}))}))},methods:{renderContent:function(){var t=this.$refs.hiddenBox;if(t.firstChild){var e=t.firstChild;this.target.setContent(e)}}}},w=(n(435),Object(p.a)(O,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("default",null,{data:this.data})],2)}),[],!1,null,"8fd3eb7a",null).exports),k={name:"amap-massmarks",mixins:[m,c],render:function(){return this.$slots.default},props:{zIndex:Number,opacity:Number,cursor:String,zooms:Array,alwaysRender:{type:Boolean,default:!0},data:{required:!0,type:Array},bubble:Boolean,pointStyle:{type:[Object,Array,Function],required:!0}},data:function(){return{options:{},target:null,events:["complete","click","dblclick","mouseout","mouseup","mousedown","touchstart","touchend"]}},created:function(){var t=this;this.options.style=this.pointStyle,delete this.options.pointStyle,delete this.options.data,s.then((function(e){t.target=new e.MassMarks(t.data,t.options),t.visible||t.target.hide()}))},watch:{data:function(t){this.target&&this.target.setData(t)}}},S={name:"amap-polygon",mixins:[m,c],render:function(){return this.$slots.default},props:{zIndex:Number,bubble:Boolean,cursor:String,strokeColor:String,strokeStyle:String,strokeWeight:Number,fillColor:String,fillOpacity:Number,draggable:Boolean,extData:[Number,String,Object],strokeDasharray:Array,path:{type:Array,required:!0},isEditor:{type:Boolean,default:!1}},watch:{path:function(t){this.target&&this.target.setPath(t)},polygonOptions:{deep:!0,immediate:!1,handler:function(t){this.target&&this.target.setOptions(t)}}},computed:{polygonOptions:function(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},data:function(){return{target:null,options:{},events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}},created:function(){var t=this;s.then((function(e){t.target=new e.Polygon(t.options);var n=e.v||e.version;t.isEditor&&("2.0"===n?t.$parent.createPolygonEditor&&t.$parent.createPolygonEditor(t.target):t.$parent.createPolyEditor&&t.$parent.createPolyEditor(t.target))}))},methods:{dragend:function(){this.target&&this.draggable&&this.$emit("update:path",this.target.getPath())}}},j={name:"loca-heatmap",mixins:[c,m],render:function(){return this.$slots.default},props:{zIndex:{type:Number,default:10},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},zooms:{type:Array,default:function(){return[2,20]}},lnglat:{type:[String,Function],default:"lnglat"},type:String,points:{type:[Object,Array],required:!0},radius:{type:Number,required:!0},value:{type:String,default:"value"},color:{type:Object,required:!0},height:{type:Number,default:100},heightBezier:{type:Array,default:function(){return[.4,.2,.4,.8]}},max:{type:Number,default:null},min:{type:Number,default:null},unit:{type:String,default:"px"}},data:function(){return{target:null,Loca:null,options:{},events:[],mapVersion:""}},watch:{points:function(t){if(this.target)if("v2"===this.mapVersion){var e=g(this.Loca,t,this.value);this.target.setSource(e,this.getStyleOption())}else{if("v1"!==this.mapVersion)throw new Error("Please checkout the map version");this.target.setData(t,this.dataOptions),this.target.setOptions({style:this.styleOptions}),this.target.render()}}},computed:{styleOptions:function(){return{radius:this.radius,color:this.color,opacity:this.opacity}},dataOptions:function(){return{lnglat:this.lnglat,value:this.value,type:this.type}}},methods:{delayedRender:function(){this.target&&"v2"===this.mapVersion?this.visible?this.target.show():this.target.hide():this.target&&"v1"===this.mapVersion?(this.target.getMap()||this.getMap(this.mapGetter),this.target.render(),this.visible?this.target.show():this.target.hide()):this.target||setTimeout(this.delayedRender,50)},getStyleOption:function(){var t=this.radius,e=this.unit,n=this.color,i=this.heightBezier,r=this.max,o=this.min,a=this.height,s=this.value;return{radius:t,unit:e,gradient:n,heightBezier:i,max:r,min:o,height:a,value:function(t,e){return e.properties[s]}}},initLayerV2:function(t){var e=new t.HeatMapLayer(this.options);if(this.points){var n=g(t,this.points,this.value),i=this.getStyleOption();e.setSource(n),e.setStyle(i),this.target=e,this.$parent.getLocaLayer&&this.$parent.getLocaLayer(this.locaLayerGetter)}},initLayerV1:function(t){var e=new t.HeatmapLayer({});e.setData(this.points,this.dataOptions),e.setOptions({style:this.styleOptions}),this.target=e},locaLayerGetter:function(t){var e=this;t.add(this.target),this.$once("hook:beforeDestroy",(function(){e.target&&t.remove(e.target)}))},mapGetter:function(t){this.target&&this.target.setMap&&this.target.setMap(t)}},created:function(){var t=this;this.mapVersion=f(),u.then((function(e){t.Loca=e,"v2"===t.mapVersion?t.initLayerV2(e):t.initLayerV1(e)}))},mounted:function(){this.delayedRender()}},x={name:"MapBounds",data:function(){return{bounds:null}},provide:function(){return{getBounds:this.getBounds,setBounds:this.setBounds,areaBounds:this.bounds}},methods:{getBounds:function(){return this.bounds},setBounds:function(t){this.bounds=t}}},E=(Object(p.a)(x,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,n(316));var B=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={zIndex:Number,opacity:Number,zooms:Array,detectRetina:Boolean};return{name:e,props:n=Object(E.a)(Object(E.a)({},i),n),mixins:[m,c],render:function(){return this.$slots.default},data:function(){return{options:{},target:null}},created:function(){var e=this;t instanceof Promise||t.then?t.then((function(t){e.createTarget(t)})):"function"==typeof t&&this.createTarget(t)},methods:{createTarget:function(t){if("function"!=typeof t)throw new TypeError("Ctor must be a constructor or Promise instance of constructor");this.target=new t(this.options),!this.visible&&this.target.hide()}}}},C=new Promise((function(t){s.then((function(e){t(e.TileLayer.Satellite)}))})),L=new Promise((function(t){s.then((function(e){t(e.TileLayer.RoadNet)}))})),M=new Promise((function(t){s.then((function(e){t(e.TileLayer.Traffic)}))})),$={autoRefsh:{type:Boolean,default:!1},interval:{type:Number,default:180}},N=new Promise((function(t){s.then((function(e){var n=e.v||e.version;t("2.0"===n?e.createDefaultLayer:e.TileLayer)}))})),P=new Promise((function(t){s.then((function(e){t(e.Buildings)}))})),A={heightFactor:Number,merge:Boolean,sort:Boolean},_=B(C,"amap-satellite"),D=B(L,"amap-roadnet"),I=B(M,"amap-traffic",$),T=B(N,"amap-tilelayer"),z=B(P,"amap-buildings",A),R={props:{visible:{type:Boolean,default:!0}},inject:["getMap"],data:function(){return{target:null,options:null,key:""}},watch:{visible:function(t){this.target&&(t?this.showTarget():this.hideTarget())}},created:function(){var t=this;!this.options&&(this.options={});for(var e=0,n=Object.keys(this.$props);e<n.length;e++){var i=n[e];"visible"!==i&&(void 0!==this.$props[i]&&(this.options[i]=this.$props[i]))}var r=this.key;s.then((function(e){"2.0"===(e.v||e.version)&&"OverView"===r&&(r="HawkEye");var n=e[r];if(!n)throw new Error("".concat(r," is a plugin, you have to add it before invoked"));t.createTarget(n)}))},beforeMount:function(){this.getMap(this.mapGetter)},render:function(){return this.$slots.default},methods:{createTarget:function(t){this.target=new t(this.options)},mapGetter:function(t){var e=this;setTimeout((function(){e.target&&(t.addControl(e.target),e.visible||e.hideTarget())}),0)},addControl:function(t){this.target&&t.addControl(this.target)},removeControl:function(t){try{this.target&&t&&t.removeControl(this.target)}catch(t){}},showTarget:function(){try{this.target.show()}catch(t){this.getMap(this.addControl)}},hideTarget:function(){try{this.target.hide()}catch(t){this.getMap(this.removeControl)}}},destroyed:function(){this.getMap(this.removeControl),this.target=null}},V={name:"amap-controlbar",mixins:[R,c],data:function(){return{key:"ControlBar"}},props:{position:Object,showZoomBar:{type:Boolean,default:!0},showControlButton:{type:Boolean,default:!0}}},F={name:"amap-maptype",mixins:[R,c],data:function(){return{key:"MapType"}},props:{defaultType:Number,showTraffic:Boolean,showRoad:Boolean}},W={name:"amap-overview",mixins:[R,c],props:{tileLayer:Object,isOpen:Boolean},data:function(){return{key:"OverView",events:["show","hide","open","close"]}},watch:{isOpen:function(t){t?this.target.open():this.target.close()}}},G={name:"amap-scale",mixins:[R,c],data:function(){return{key:"Scale",events:["show","hide"]}}},q={name:"amap-toolbar",mixins:[R,c],props:{offset:Object,position:String,ruler:{type:Boolean,default:!0},noIpLocate:{type:Boolean,default:!1},locate:Boolean,liteStyle:Boolean,direction:Boolean,autoPosition:Boolean,locationMarker:Object,useNative:Boolean},data:function(){return{key:"ToolBar",events:["show","hide","location","zoomchanged"]}},watch:{ruler:function(t){this.target&&t?this.target.showRuler:this.target.hideRuler},offset:function(t){this.target&&this.target.setOffset(t)},direction:function(t){this.target&&t?this.target.showDirection():this.target.hideDirection()},locate:function(t){this.target&&t?this.target.showLocation():this.target.hideLocation()}}},H={name:"amap-rectangle",mixins:[m,c],render:function(){return this.$slots.default},data:function(){return{target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}},props:{zIndex:Number,bounds:{type:[Object,Array],require:!0},bubble:Boolean,cursor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:function(t){return-1!==["solid","dashed"].indexOf(t)}},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{bounds:function(t){this.target&&this.target.setBounds(t)},rectangleOptions:{deep:!0,immediate:!1,handler:function(t){this.target&&this.target.setOptions(t)}}},computed:{rectangleOptions:function(){return{strokeColor:this.strokeColor||"#006600",strokeOpacity:this.strokeOpacity||1,strokeWeight:this.strokeWeight||2,strokeDasharray:this.strokeDasharray||[],strokeStyle:this.strokeStyle||"solid"}}},created:function(){var t=this;s.then((function(e){t.bounds instanceof Array&&(t.options.bounds=new e.Bounds(new e.LngLat(t.bounds[0][0],t.bounds[0][1]),new e.LngLat(t.bounds[1][0],t.bounds[1][1]))),t.target=new e.Rectangle(t.options),t.isEditor&&t.$parent.createRectangleEditor&&t.$parent.createRectangleEditor(t.target)}))}},J={name:"amap-circle",mixins:[m,c],render:function(){return this.$slots.default},data:function(){return{target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}},props:{zIndex:Number,center:{type:[Object,Array],required:!0},bubble:Boolean,cursor:String,radius:{type:Number,required:!0},strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:function(t){return-1!==["solid","dashed"].indexOf(t)}},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{center:function(t){this.target&&this.target.setCenter(t)},circleOptions:{deep:!0,immediate:!1,handler:function(t){this.target&&this.target.setOptions(t)}}},computed:{circleOptions:function(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},created:function(){var t=this;s.then((function(e){t.fillOpacity&&(t.options.fillOpacity=parseFloat(t.fillOpacity)),t.strokeOpacity&&(t.options.strokeOpacity=parseFloat(t.strokeOpacity)),t.target=new e.Circle(t.options),t.isEditor&&t.$parent.createCircleEditor&&t.$parent.createCircleEditor(t.target)}))}},Z={name:"amap-circle-marker",mixins:[m,c],props:{zIndex:Number,center:{type:[Object,Array],require:!0},bubble:Boolean,radius:{type:Number,require:!0},strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,extData:Object},data:function(){return{events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}},watch:{center:function(t){this.target&&this.target.setPosition(t)}},mounted:function(){var t=this;s.then((function(e){t.fillOpacity&&(t.options.fillOpacity=parseFloat(t.fillOpacity)),t.strokeOpacity&&(t.options.strokeOpacity=parseFloat(t.strokeOpacity)),t.target=new e.CircleMarker(t.options),t.visible||t.target.hide()}))}},X=(n(436),Object(p.a)(Z,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("content"),this._v(" "),this._t("label")],2)}),[],!1,null,"1e08398f",null).exports),Y={name:"amap-circle-editor",mixins:[c,m],props:{createOptions:Object,editOptions:Object,movePoint:Object,resizePoint:Object},data:function(){return{target:null,events:["addnode","adjust","move","add","end"]}},inject:["getMap"],created:function(){var t=this;s.then((function(e){"2.0"===(e.v||e.version)&&t.createCircleEditor()}))},methods:{createCircleEditor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;s.then((function(n){t.getMap((function(i){t.target=new n.CircleEditor(i,e,t.options)}))}))}}},U=Object(p.a)(Y,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,K={name:"amap-polyeditor",mixins:[c],data:function(){return{target:null,events:["addnode","adjust","removenode","end"]}},inject:["getMap"],created:function(){},methods:{createPolyEditor:function(t){var e=this;s.then((function(n){e.getMap((function(i){e.target=new n.PolyEditor(i,t)}))}))}}},Q=Object(p.a)(K,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,tt={name:"amap-rectangle-editor",mixins:[c],props:{createOptions:Object,editOptions:Object,southWestPoint:Object,northEastPoint:Object},data:function(){return{target:null,events:["addnode","adjust","move","add","end"]}},inject:["getMap"],created:function(){var t=this;!this.options&&(this.options={});for(var e=0,n=Object.keys(this.$props);e<n.length;e++){var i=n[e];void 0!==this.$props[i]&&(this.options[i]=this.$props[i])}s.then((function(e){"2.0"===(e.v||e.version)&&t.createRectangleEditor()}))},methods:{createRectangleEditor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;s.then((function(n){t.getMap((function(i){t.target=new n.RectangleEditor(i,e,t.options)}))}))}}},et=Object(p.a)(tt,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,nt={name:"amap-text",mixins:[m,c],props:{text:{type:String,require:!0},position:[Object,Array],anchor:String,offset:Object,topWhenClick:Boolean,bubble:Boolean,draggable:Boolean,raiseOnDrag:Boolean,cursor:String,zIndex:Number,angle:Number,autoRotation:Boolean,animation:String,shadow:Object,title:String,clickable:Boolean,extData:Object,textStyle:Object},data:function(){return{events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]}},watch:{position:function(t){this.target&&this.target.setPosition(t)}},mounted:function(){var t=this;s.then((function(e){t.textStyle&&(t.options.style=t.textStyle),t.target=new e.Text(t.options),t.visible||t.target.hide()}))}},it=Object(p.a)(nt,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null).exports,rt={name:"amap-ellipse",mixins:[m,c],render:function(){return this.$slots.default},data:function(){return{target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}},props:{zIndex:Number,center:{type:[Object,Array],required:!0},radius:{type:Array,required:!0},bubble:Boolean,cursor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:function(t){return-1!==["solid","dashed"].indexOf(t)}},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{center:function(t){this.target&&this.target.setCenter(t)},circleOptions:{deep:!0,immediate:!1,handler:function(t){this.target&&this.target.setOptions(t)}}},computed:{circleOptions:function(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},created:function(){var t=this;s.then((function(e){t.fillOpacity&&(t.options.fillOpacity=parseFloat(t.fillOpacity)),t.strokeOpacity&&(t.options.strokeOpacity=parseFloat(t.strokeOpacity)),t.target=new e.Ellipse(t.options),t.isEditor&&t.$parent.createEllipseEditor&&t.$parent.createEllipseEditor(t.target)}))}},ot={name:"amap-ellipse-editor",mixins:[c],props:{createOptions:Object,editOptions:Object,movePoint:Object,resizeXPoint:Object,resizeYPoint:Object},data:function(){return{target:null,events:["addnode","adjust","move","add","end"]}},inject:["getMap"],created:function(){var t=this;!this.options&&(this.options={});for(var e=0,n=Object.keys(this.$props);e<n.length;e++){var i=n[e];void 0!==this.$props[i]&&(this.options[i]=this.$props[i])}s.then((function(e){"2.0"===(e.v||e.version)&&t.createEllipseEditor()}))},methods:{createEllipseEditor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;s.then((function(n){t.getMap((function(i){t.target=new n.EllipseEditor(i,e,t.options)}))}))}}},at=Object(p.a)(ot,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,st={name:"amap-polyline-editor",mixins:[c,m],props:{createOptions:Object,editOptions:Object,controlPoint:Object,midControlPoint:Object},data:function(){return{target:null,AMap:null,events:["addnode","adjust","removenode","add","end"]}},inject:["getMap"],created:function(){this.createPolylineEditor()},methods:{createPolylineEditor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.target?this.target.setTarget(e):s.then((function(n){"2.0"===(n.v||n.version)&&t.getMap((function(i){t.target=new n.PolylineEditor(i,e,t.options)}))}))},createPolyEditor:function(t){var e=this;s.then((function(n){e.getMap((function(i){e.target=new n.PolyEditor(i,t)}))}))}}},ut=Object(p.a)(st,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,lt={name:"amap-polygon-editor",mixins:[c,m],props:{createOptions:Object,editOptions:Object,controlPoint:Object,midControlPoint:Object},data:function(){return{target:null,events:["addnode","removenode","adjust","move","add","end"]}},inject:["getMap"],created:function(){this.createPolygonEditor()},methods:{createPolygonEditor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.target?this.target.setTarget(e):s.then((function(n){"2.0"===(n.v||n.version)&&t.getMap((function(i){t.target=new n.PolygonEditor(i,e,t.options)}))}))},createPolyEditor:function(t){var e=this;s.then((function(n){e.getMap((function(i){e.target=new n.PolyEditor(i,t)}))}))}}},ct=Object(p.a)(lt,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,ht={name:"loca-hexagon",mixins:[c,m],render:function(){return this.$slots.default},props:{zIndex:{type:Number,default:10},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},zooms:{type:Array,default:function(){return[2,20]}},cullface:{type:String,default:"back"},acceptLight:{type:Boolean,default:!0},depth:{type:Boolean,default:!0},shininess:{type:Number,default:30},hasSide:{type:Boolean,default:!0},points:{required:!0},topColor:{type:String,default:"#ffffff"},sideColor:{type:String,default:"#ff0000"},altitude:{type:Number,default:0},height:{type:Number,default:0},radius:{type:Number,default:1e3},gap:{type:Number,default:0},unit:{type:String,default:"meter"}},data:function(){return{target:null,Loca:null,options:{},events:[]}},watch:{points:function(t){if(this.target)if("v2"===this.mapVersion){var e=g(this.Loca,t,this.value);this.target.setSource(e,this.getStyleOption())}else{if("v1"!==this.mapVersion)throw new Error("Please checkout the map version");this.target.setData(t,this.dataOptions),this.target.setOptions({style:this.styleOptions}),this.target.render()}}},methods:{getStyleOption:function(){var t=this.topColor,e=this.sideColor,n=this.altitude,i=this.height,r=this.radius,o=this.gap,a=this.unit,s=this.value;return{topColor:t,sideColor:e,altitude:n,height:i,radius:r,gap:o,unit:a,value:function(t,e){return e.properties[s]}}},locaLayerGetter:function(t){var e=this;t.add(this.target),this.$once("hook:beforeDestroy",(function(){e.target&&t.remove(e.target)}))}},created:function(){var t=this;this.mapVersion=f(),u.then((function(e){t.Loca=e,"v2"===t.mapVersion&&setTimeout((function(){var n=new e.HexagonLayer(t.options),i=g(e,t.points,t.value),r=t.getStyleOption();n.setSource(i),n.setStyle(r),t.target=n,t.$parent.getLocaLayer&&t.$parent.getLocaLayer(t.locaLayerGetter)}),50)}))},mounted:function(){}},pt={name:"loca",mixins:[c],render:function(){return this.$slots.default},props:{ambLight:Object,dirLight:Object,pointLight:Object,viewControl:Object},provide:function(){return{getLocaLayer:this.getLocaLayer}},inject:["getMap"],data:function(){return{target:null,Loca:null,options:{},events:[]}},created:function(){var t=this;!this.options&&(this.options={});for(var e=0,n=Object.keys(this.$props);e<n.length;e++){var i=n[e];void 0!==this.$props[i]&&(this.options[i]=this.$props[i])}this.getMap((function(e){u.then((function(n){t.target=new n.Container(Object(E.a)({map:e},t.options))}))}))},methods:{getLocaLayer:function(t){var e=this;this.target?t(this.target):setTimeout((function(){return e.getLocaLayer(t)}),50)}}},dt=Object(p.a)(pt,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,ft={name:"amap-labels-layer",mixins:[m],render:function(){return this.$slots.default},props:{zIndex:{type:Number},opacity:{type:Number},collision:{type:Boolean},animation:{type:Boolean}},data:function(){return{AMap:null,options:{},target:null}},provide:function(){return{getLabelsLayer:this.getLabelsLayer}},created:function(){var t=this;s.then((function(e){t.AMap=e,t.target=new e.LabelsLayer(t.options),t.visible||t.target.hide(),t.complete()}))},methods:{getLabelsLayer:function(t){var e=this;this.target?t(this.target):setTimeout((function(){return e.getLabelsLayer(t)}),50)},complete:function(){this.$emit("complete",this.target)}},beforeDestroy:function(){this.target&&this.target.clear()}},gt=[d,v,b,S,D,_,T,I,V,F,G,q,W,z,k,w,Q,H,et,J,U,X,j,it,rt,at,ht,ut,ct,dt,Object(p.a)(ft,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,{name:"amap-label-marker",mixins:[c],render:function(){return this.$slots.default},props:{data:{type:Object,require:!0},extData:{type:Object}},inject:["getLabelsLayer"],data:function(){return{AMap:null,target:null,events:["complete","click","mouseover","mousemove","mouseout","mouseup","mousedown","touchstart","touchend"]}},created:function(){var t=this;this.mapVersion=f(),s.then((function(e){t.AMap=e;var n=t.data,i=n.position,r=n.icon,o=n.text,a=n.zooms;t.target=new t.AMap.LabelMarker({position:i,icon:r,text:o,zooms:a}),t.extData&&t.target.setExtData(t.extData),"v1"===t.mapVersion&&t.getLabelsLayer(t.layerGetter)}))},methods:{layerGetter:function(t){var e=this;t.add(this.target),this.$once("hook:beforeDestroy",(function(){e.target&&t.remove(e.target)}))}}}],mt=[j];e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="https://webapi.amap.com/maps";if(s.init(n,e),gt.forEach((function(e){t.component(e.name,e)})),e.enableLoca){var i="https://webapi.amap.com/loca",r=parseFloat(e.v)>=2?"2.0.0":"1.3.0",o={key:e.key,v:r};u.init(i,o),mt.forEach((function(e){t.component(e.name,e)}))}}}}}]);