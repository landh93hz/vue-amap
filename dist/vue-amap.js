!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.amap=e():t.amap=e()}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=11)}([function(t,e,i){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},s=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),n=[];function a(t){for(var e=-1,i=0;i<n.length;i++)if(n[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},o=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],h=i[l]||0,c="".concat(l," ").concat(h);i[l]=h+1;var d=a(c),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(n[d].references++,n[d].updater(u)):n.push({identifier:c,updater:f(u,e),references:1}),o.push(c)}return o}function h(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=i.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var n=s(t.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,i,o){var r=i?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var s=document.createTextNode(r),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(s,n[e]):t.appendChild(s)}}function p(t,e,i){var o=i.css,r=i.media,s=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var g=null,m=0;function f(t,e){var i,o,r;if(e.singleton){var s=m++;i=g||(g=h(e)),o=u.bind(null,i,s,!1),r=u.bind(null,i,s,!0)}else i=h(e),o=p.bind(null,i,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<i.length;o++){var r=a(i[o]);n[r].references--}for(var s=l(t,e),h=0;h<i.length;h++){var c=a(i[h]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}i=s}}}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var r=(n=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),s=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[i].concat(s).concat([r]).join("\n")}var n,a,l;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var s=0;s<this.length;s++){var n=this[s][0];null!=n&&(r[n]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);o&&r[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e,i){var o=i(0),r=i(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,i){var o=i(0),r=i(8);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,i){var o=i(0),r=i(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,i){"use strict";i(2)},function(t,e,i){(e=i(1)(!1)).push([t.i,".hidden-box[data-v-c8ccd62a]{display:none}\n",""]),t.exports=e},function(t,e,i){"use strict";i(3)},function(t,e,i){(e=i(1)(!1)).push([t.i,".hidden-box[data-v-13c2c04f]{display:none}\n",""]),t.exports=e},function(t,e,i){"use strict";i(4)},function(t,e,i){(e=i(1)(!1)).push([t.i,".hidden-box[data-v-4cb016fb]{display:none}\n",""]),t.exports=e},function(t,e,i){"use strict";i.r(e),i.d(e,"amapLoader",(function(){return n})),i.d(e,"locaLoader",(function(){return a}));var o=function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{width:"number"==typeof this.width?this.width+"px":this.width,height:"number"==typeof this.height?this.height+"px":this.height}},[this._t("default")],2)};function r(t,e,i){return new Promise((o,r)=>{if(window[t])o(window[t]);else{const s=document.createElement("script"),n=e+"?";let{plugins:a}=i;a&&(delete i.plugins,Array.isArray(a)&&(a=a.map(t=>{if("string"==typeof t)return 1===t.split(".").length?"AMap."+t:t;throw new Error("member of plugins must be string")}),i.plugin=a.join(",")),"string"==typeof a&&(i.plugin=a));let l="";for(const t in i)l+=`${t}=${i[t]}&`;l.slice(0,l.length-1),s.src=n+l,document.head.append(s),s.onload=function(){window[t]?o(window[t]):r(void 0)}}})}o._withStripped=!0;function s(t){let e,i;const o=new Promise((t,o)=>{e=t,i=o});return o.init=async function(o,s){try{const i=await r(t,o,s);e&&e(i)}catch(e){throw i&&i(`Failed to load ${t} API at given ${o}`),new Error(""+e)}},o}const n=s("AMap"),a=s("Loca");var l={data:()=>({target:null,events:[],handleMap:{}}),mounted(){this.checkTarget()},beforeDestroy(){for(const t in this.handleMap)t&&this.target&&this.target.off(t,this.handleMap[t])},methods:{checkTarget(){this.target?(this.initEvents(),this.complete()):setTimeout(this.checkTarget,50)},initEvents(){for(const t of this.events){let e=e=>{this.$emit(t,e)};const i=Object.getOwnPropertyDescriptor(this,t);i&&"function"==typeof i.value&&(e=e=>{i.value.call(null,e),this.$emit(t,e)}),this.handleMap[t]=e,this.target.on(t,e)}},complete(){this.$emit("complete",this.target)}}};function h(t,e,i,o,r,s,n,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),o&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:h}}var c=h({mixins:[l],name:"amap-map",provide(){return{getMap:this.getMap}},props:{height:{type:[Number,String],default:"100%"},width:{type:[Number,String],default:"100%"},layers:{type:Array},zooms:{type:Array},lang:{type:String},animateEnable:{type:Boolean,default:!0},isHotspot:{type:Boolean,default:!1},rotateEnable:{type:Boolean,default:!0},resizeEnable:{type:Boolean,default:!0},showIndoorMap:{type:Boolean,default:!0},expandZoomRange:{type:Boolean,default:!0},dragEnable:{type:Boolean,default:!0},zoomEnable:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},keyboardEnable:{type:Boolean,default:!0},jogEnable:{type:Boolean,default:!0},scrollWheel:{type:Boolean,default:!0},touchZoom:{type:Boolean,default:!0},mapStyle:{type:String},features:{type:Array},showBuildingBlock:{type:Boolean,default:!0},pitchEnable:{type:Boolean,default:!0},buildingAnimation:{type:Boolean,default:!0},skyColor:{type:String},mask:{type:Array},zoom:{type:Number,default:13},pitch:{type:Number,default:0},rotation:{type:Number,default:0},center:{type:[Object,Array]},bounds:{type:Object},city:{type:String},limitBounds:{type:Boolean},mapStatus:{type:Object},defaultCursor:{type:String},showLabel:{type:Boolean,default:!0},crs:{type:String,default:"EPSG3857",validator:t=>-1!==["EPSG3857","EPSG3395","EPSG4326"].indexOf(t)},viewMode:{type:String,default:"2D",validator:t=>-1!==["2D","3D"].indexOf(t)}},data:()=>({target:null,timer:null,events:["click","dbclick","mapmove","hotspotclick","hotspotover","hotspotout","movestart","moveend","zoomchange","zoomstart","zoomend","mousemove","mousewheel","mouseover","mouseout","mouseup","mousedown","rightclick","dragstart","dragging","dragend","resize","touchstart","touchmove","touchend"]}),created(){},mounted(){const t=Object.keys(this.$props),e={};for(const i of t)void 0!==this.$props[i]&&(e[i]=this.$props[i]);n.then(t=>{let i;if(Array.isArray(this.center))i=this.center;else if(this.center){const{lng:e,lat:o}=this.center;i=new t.LngLat(e,o)}e.center=i,this.target=new t.Map(this.$el,e),this.city&&this.target.setCity(this.city),this.target.on("complete",()=>{this.updateCity()})})},watch:{rotation(t){this.target&&this.target.setRotation(t),this.updateBounds()},pitch(t){this.target&&this.pitchEnable&&this.target.setPitch(t),this.updateBounds()},zoom(t){this.target&&this.zoomEnable&&this.target.setZoom(t),this.updateBounds()},lang(t){this.target&&this.target.setLang(t)},city(t){this.target&&this.target.setCity(t)},limitBounds(t){if(!this.bounds)throw new Error("Make sure to set bounds when limitBounds is true");t?this.target.setLimitBounds(this.bounds):this.target.clearLimitBounds()},mapStatus:{deep:!0,immediate:!1,handler(t,e){const i=Object.keys(t),o={};for(const r in i)"boolean"==typeof t[r]&&t[r]!==e[r]&&(o[r]=t[r]);Object.keys(o).length>0&&this.target.setStatus(o)}},defaultCursor(t){this.target&&this.target.setDefaultCursor(t)},features(t){this.target&&this.target.setFeatures(t)},mapStyle(t){this.target&&this.target.setMapStyle(t)}},methods:{mousedown(){this.timer&&(clearInterval(this.timer),this.timer=null),this.timer||(this.timer=setInterval(()=>{this.$emit("update:pitch",this.target&&this.target.getPitch()),this.$emit("update:rotation",this.target&&this.target.getRotation())},100))},mouseup(){this.timer&&(clearInterval(this.timer),this.timer=null)},zoomchange(){this.$emit("update:zoom",this.target.getZoom()),this.updateBounds()},moveend(){this.$emit("update:center",this.target.getCenter()),this.updateBounds(),this.updateCity()},getMap(t){this.target?t(this.target):setTimeout(()=>{this.getMap(t)},50)},updateBounds(){let t;if("2D"===this.viewMode)t=this.target.getBounds();else{const e=this.target.getBounds();"AMap.ArrayBounds"===e.CLASS_NAME&&(t=e.toBounds())}this.$emit("update:bounds",t)},updateCity(){this.target.getCity(t=>{const{city:e}=t;this.$emit("update:city",e),this.$emit("getCity",t)})},setCenter(t){this.target&&this.target.setCenter(t)}},beforeDestroy(){},destroyed(){this.target.destroy(),this.target=null},deactivated(){}},o,[],!1,null,null,null);c.options.__file="package/elements/map.vue";var d=c.exports,u=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("content"),this._v(" "),this._t("label")],2)};u._withStripped=!0;var p={props:{visible:{type:[Boolean,Function],default:!0}},inject:["getMap"],data:()=>({target:null,options:null}),watch:{visible(t){this.target&&(t?this.target.show():this.target.hide())}},created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)"visible"!==e&&void 0!==this.$props[e]&&(this.options[e]=this.$props[e])},beforeMount(){this.getMap(this.mapGetter)},beforeDestroy(){this.target&&this.target.setMap(null),this.target=null,this.$emit("destroy")},methods:{mapGetter(t){setTimeout(()=>{if(this.target&&this.target.setMap){if(this.visible||this.target.hide(),"AMAp.InfoWindow"===this.target.CLASS_NAME)return;this.target.setMap(t)}},0)}}},g={name:"amap-marker",mixins:[p,l],props:{topWhenClick:Boolean,bubble:Boolean,raiseOnDrag:Boolean,cursor:String,autoRotation:Boolean,anchor:String,offset:Object,icon:[Object,String],draggable:Boolean,zIndex:Number,angle:Number,animation:String,title:String,shadow:Object,content:[String,HTMLElement],label:[Object,String],labelOffset:Object,labelDirection:String,extData:Object,position:[Object,Array]},data:()=>({events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]}),watch:{position(t){this.target&&this.target.setPosition(t)},label(t){const e=document.createElement("div");e.textContent=t,this.target&&this.target.setLabel({content:e.outerHTML})}},mounted(){n.then(t=>{this.target=new t.Marker(this.options),this.visible||this.target.hide();const{label:e}=this;if("string"==typeof e){const t=document.createElement("div");t.textContent=e,this.target&&this.target.setLabel({content:t.outerHTML})}this.renderSlot()})},methods:{renderSlot(){const{content:t,label:e}=this;if(t)return this.target.setContent(t);if(e){let t=e;return"string"==typeof e&&(t={offset:this.labelOffset,content:e,direction:this.labelDirection||"right"}),this.target.setLabel(t)}const{content:i,label:o}=this.$slots;if(i){if(i.length>1)throw new Error("multi content slots in single marker");const t=this.$refs.hiddenBox.firstElementChild;if(t)return this.target.setContent(t)}if(o){if(o.length>1)throw new Error("multi label slots in single marker");const t=this.$refs.hiddenBox.firstElementChild;if(t){const e={offset:this.labelOffset,content:t,direction:this.labelDirection||"right"};return this.target.setLabel(e)}}}}},m=(i(5),h(g,u,[],!1,null,"c8ccd62a",null));m.options.__file="package/elements/marker.vue";var f=m.exports,y={name:"amap-polyline",mixins:[l,p],data:()=>({target:null,options:{},events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,bubble:Boolean,cursor:String,geodesic:Boolean,isOutline:Boolean,outlineColor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},strokeDasharray:Array,lineJoin:String,lineCap:String,draggable:Boolean,showDir:Boolean,extData:Object,path:{type:Array,required:!0},isEditor:{type:Boolean,default:!1}},watch:{path(t){this.target&&this.target.setPath(t)},polylineOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{polylineOptions(){return{showDir:this.showDir||!1,strokeColor:this.strokeColor||"green",strokeOpacity:this.strokeOpacity||1,strokeWeight:this.strokeWeight||2,draggable:this.draggable||!1,lineJoin:this.lineJoin||"miter",lineCap:this.lineCap||"butt",strokeDasharray:this.strokeDasharray||[],strokeStyle:this.strokeStyle||"solid",isOutline:this.isOutline||!1,borderWeight:this.borderWeight||0}}},created(){n.then(t=>{this.target=new t.Polyline(this.options),this.isEditor&&this.$parent.createPolyEditor(this.target)})},render(){return this.$slots.default}},b=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("default",null,{data:this.data})],2)};b._withStripped=!0;var v={name:"amap-infowindow",mixins:[p,l],props:{isCustom:Boolean,autoMove:Boolean,closeWhenClickMap:{type:Boolean,default:!0},content:[String,HTMLDivElement],size:Object,anchor:String,offset:Object,position:{type:[Object,Array],required:!0},showShadow:Boolean,data:[String,Number,Object]},data:()=>({target:null,options:{},events:["open","change","close"]}),watch:{position(t){this.target&&this.target.setPosition(t)},visible(t){this.target&&(t?this.getMap(t=>{!this.target.getIsOpen()&&this.target.open(t,this.position)}):this.target.getIsOpen()&&this.target.close())}},created(){n.then(t=>{this.target=new t.InfoWindow(this.options),this.getMap(t=>{this.visible?this.target.open(t,this.position):this.target.close(),this.renderContent()})})},methods:{renderContent(){const t=this.$refs.hiddenBox;if(!t.firstChild)return;const e=t.firstChild;this.target.setContent(e)}}},w=(i(7),h(v,b,[],!1,null,"13c2c04f",null));w.options.__file="package/elements/infowindow.vue";var k=w.exports,O={name:"amap-massmarks",mixins:[p,l],render(){return this.$slots.default},props:{zIndex:Number,opacity:Number,cursor:String,zooms:Array,alwaysRender:{type:Boolean,default:!0},data:{required:!0,type:Array},bubble:Boolean,pointStyle:{type:[Object,Array,Function],required:!0}},data:()=>({options:{},target:null,events:["complete","click","dblclick","mouseout","mouseup","mousedown","touchstart","touchend"]}),created(){this.options.style=this.pointStyle,delete this.options.pointStyle,delete this.options.data,n.then(t=>{this.target=new t.MassMarks(this.data,this.options),this.visible||this.target.hide()})},watch:{data(t){this.target&&this.target.setData(t)}}},S={name:"amap-polygon",mixins:[p,l],render(){return this.$slots.default},props:{zIndex:Number,bubble:Boolean,cursor:String,strokeColor:String,strokeStyle:String,strokeWeight:Number,fillColor:String,fillOpacity:Number,draggable:Boolean,extData:[Number,String,Object],strokeDasharray:Array,path:{type:Array,required:!0},isEditor:{type:Boolean,default:!1}},watch:{path(t){this.target&&this.target.setPath(t)},polygonOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{polygonOptions(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},data:()=>({target:null,options:{},events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),created(){n.then(t=>{this.target=new t.Polygon(this.options),this.isEditor&&this.$parent.createPolyEditor(this.target)})},methods:{dragend(){this.target&&this.draggable&&this.$emit("update:path",this.target.getPath())}}},B={name:"loca-heatmap",mixins:[l,p],render(){return this.$slots.default},props:{value:{type:String,default:"value"},dataType:String,eventSupport:Boolean,fitView:Boolean,zIndex:Number,lnglat:{type:[String,Function],default:"lnglat"},radius:{type:Number,required:!0},color:{type:Object,required:!0},opacity:{type:Array,default:()=>[0,1]},points:{type:Array,required:!0},visible:{type:Boolean,default:!0}},data:()=>({target:null,options:{},events:[]}),watch:{points(t){this.target&&(this.target.setData(t,this.dataOptions),this.target.setOptions({style:this.styleOptions}),this.target.render())}},computed:{styleOptions(){const{radius:t,color:e,opacity:i}=this;return{radius:t,color:e,opacity:i}},dataOptions(){const{lnglat:t,value:e,dataType:i}=this;return{lnglat:t,value:e,type:i}}},methods:{delayedRender(){this.target&&this.target.getMap()?(this.target.render(),this.visible?this.target.show():this.target.hide()):setTimeout(this.delayedRender,50)}},created(){a.then(t=>{const e=new t.HeatmapLayer({});e.setData(this.points,this.dataOptions),e.setOptions({style:this.styleOptions}),this.target=e})},mounted(){this.delayedRender()}},x=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};x._withStripped=!0;var C=h({name:"MapBounds",data:()=>({bounds:null}),provide(){return{getBounds:this.getBounds,setBounds:this.setBounds,areaBounds:this.bounds}},methods:{getBounds(){return this.bounds},setBounds(t){this.bounds=t}}},x,[],!1,null,null,null);C.options.__file="package/widgets/bounds.vue";C.exports;var _=function(t,e,i={}){return{name:e,props:i={...{zIndex:Number,opacity:Number,zooms:Array,detectRetina:Boolean},...i},mixins:[p,l],render(){return this.$slots.default},data:()=>({options:{},target:null}),created(){t instanceof Promise||t.then?t.then(t=>{this.createTarget(t)}):"function"==typeof t&&this.createTarget(t)},methods:{createTarget(t){if("function"!=typeof t)throw new TypeError("Ctor must be a constructor or Promise instance of constructor");this.target=new t(this.options),!this.visible&&this.target.hide()}}}};const E=new Promise(t=>{n.then(e=>{t(e.TileLayer.Satellite)})}),j=new Promise(t=>{n.then(e=>{t(e.TileLayer.RoadNet)})}),M=new Promise(t=>{n.then(e=>{t(e.TileLayer.Traffic)})}),$={autoRefsh:{type:Boolean,default:!1},interval:{type:Number,default:180}},N=new Promise(t=>{n.then(e=>{t(e.TileLayer)})}),T=new Promise(t=>{n.then(e=>{t(e.Buildings)})}),A={heightFactor:Number,merge:Boolean,sort:Boolean},D=_(E,"amap-satellite"),L=_(j,"amap-roadnet"),P=_(M,"amap-traffic",$),R=_(N,"amap-tilelayer"),z=_(T,"amap-buildings",A);var I={props:{visible:{type:Boolean,default:!0}},inject:["getMap"],data:()=>({target:null,options:null,key:""}),watch:{visible(t){this.target&&(t?this.showTarget():this.hideTarget())}},created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)"visible"!==e&&void 0!==this.$props[e]&&(this.options[e]=this.$props[e]);const e=this.key;n.then(t=>{const i=t[e];if(!i)throw new Error(e+" is a plugin, you have to add it before invoked");this.createTarget(i)})},beforeMount(){this.getMap(this.mapGetter)},render(){return this.$slots.default},methods:{createTarget(t){this.target=new t(this.options)},mapGetter(t){setTimeout(()=>{this.target&&(t.addControl(this.target),this.visible||this.hideTarget())},0)},addControl(t){this.target&&t.addControl(this.target)},removeControl(t){try{this.target&&t&&t.removeControl(this.target)}catch(t){}},showTarget(){try{this.target.show()}catch(t){this.getMap(this.addControl)}},hideTarget(){try{this.target.hide()}catch(t){this.getMap(this.removeControl)}}},destroyed(){this.getMap(this.removeControl),this.target=null}},W={name:"amap-controlbar",mixins:[I,l],data:()=>({key:"ControlBar"}),props:{position:Object,showZoomBar:{type:Boolean,default:!0},showControlButton:{type:Boolean,default:!0}}},q={name:"amap-maptype",mixins:[I,l],data:()=>({key:"MapType"}),props:{defaultType:Number,showTraffic:Boolean,showRoad:Boolean}},F={name:"amap-overview",mixins:[I,l],props:{tileLayer:Object,isOpen:Boolean},data:()=>({key:"OverView",events:["show","hide","open","close"]}),watch:{isOpen(t){t?this.target.open():this.target.close()}}},G={name:"amap-scale",mixins:[I,l],data:()=>({key:"Scale",events:["show","hide"]})},H={name:"amap-toolbar",mixins:[I,l],props:{offset:Object,position:String,ruler:{type:Boolean,default:!0},noIpLocate:{type:Boolean,default:!1},locate:Boolean,liteStyle:Boolean,direction:Boolean,autoPosition:Boolean,locationMarker:Object,useNative:Boolean},data:()=>({key:"ToolBar",events:["show","hide","location","zoomchanged"]}),watch:{ruler(t){this.target&&t?this.target.showRuler:this.target.hideRuler},offset(t){this.target&&this.target.setOffset(t)},direction(t){this.target&&t?this.target.showDirection():this.target.hideDirection()},locate(t){this.target&&t?this.target.showLocation():this.target.hideLocation()}}},U={name:"amap-rectangle",mixins:[p,l],render(){return this.$slots.default},data:()=>({target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,bounds:{type:[Object,Array],require:!0},bubble:Boolean,cursor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{bounds(t){this.target&&this.target.setBounds(t)},rectangleOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{rectangleOptions(){return{strokeColor:this.strokeColor||"#006600",strokeOpacity:this.strokeOpacity||1,strokeWeight:this.strokeWeight||2,strokeDasharray:this.strokeDasharray||[],strokeStyle:this.strokeStyle||"solid"}}},created(){n.then(t=>{this.bounds instanceof Array&&(this.options.bounds=new t.Bounds(new t.LngLat(this.bounds[0][0],this.bounds[0][1]),new t.LngLat(this.bounds[1][0],this.bounds[1][1]))),this.target=new t.Rectangle(this.options),this.isEditor&&this.$parent.createRectangleEditor(this.target)})}},Z={name:"amap-circle",mixins:[p,l],render(){return this.$slots.default},data:()=>({target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,center:{type:[Object,Array],required:!0},bubble:Boolean,cursor:String,radius:{type:Number,required:!0},strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{center(t){this.target&&this.target.setCenter(t)},circleOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{circleOptions(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},created(){n.then(t=>{this.fillOpacity&&(this.options.fillOpacity=parseFloat(this.fillOpacity)),this.strokeOpacity&&(this.options.strokeOpacity=parseFloat(this.strokeOpacity)),this.target=new t.Circle(this.options),this.isEditor&&this.$parent.createCircleEditor(this.target)})}},J=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("content"),this._v(" "),this._t("label")],2)};J._withStripped=!0;var V={name:"amap-circle-marker",mixins:[p,l],props:{zIndex:Number,center:{type:[Object,Array],require:!0},bubble:Boolean,radius:{type:Number,require:!0},strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,extData:Object},data:()=>({events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),watch:{center(t){this.target&&this.target.setPosition(t)}},mounted(){n.then(t=>{this.fillOpacity&&(this.options.fillOpacity=parseFloat(this.fillOpacity)),this.strokeOpacity&&(this.options.strokeOpacity=parseFloat(this.strokeOpacity)),this.target=new t.CircleMarker(this.options),this.visible||this.target.hide()})}},X=(i(9),h(V,J,[],!1,null,"4cb016fb",null));X.options.__file="package/elements/circlemarker.vue";var K=X.exports,Q=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};Q._withStripped=!0;var Y=h({name:"amap-circle-editor",mixins:[l],data:()=>({target:null,isEditor:!1,events:["move","adjust","end"]}),inject:["getMap"],created(){},methods:{createCircleEditor(t){n.then(e=>{this.getMap(i=>{this.target=new e.CircleEditor(i,t)})})}}},Q,[],!1,null,null,null);Y.options.__file="package/plugins/circle-editor.vue";Y.exports;var tt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};tt._withStripped=!0;var et=h({name:"amap-polyeditor",mixins:[l],data:()=>({target:null,events:["addnode","adjust","removenode","end"]}),inject:["getMap"],created(){},methods:{createPolyEditor(t){n.then(e=>{this.getMap(i=>{this.target=new e.PolyEditor(i,t)})})}}},tt,[],!1,null,null,null);et.options.__file="package/plugins/polyeditor.vue";var it=et.exports,ot=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};ot._withStripped=!0;var rt=h({name:"amap-rectangle-editor",mixins:[l],data:()=>({target:null,events:["adjust","end"]}),inject:["getMap"],props:{editorObject:Object},methods:{createRectangleEditor(t){n.then(e=>{this.getMap(i=>{this.target=new e.RectangleEditor(i,t)})})}}},ot,[],!1,null,null,null);rt.options.__file="package/plugins/rectangle-editor.vue";var st=rt.exports,nt=function(){var t=this.$createElement;return(this._self._c||t)("div")};nt._withStripped=!0;var at=h({name:"amap-text",mixins:[p,l],props:{text:{type:String,require:!0},position:[Object,Array],anchor:String,offset:Object,topWhenClick:Boolean,bubble:Boolean,draggable:Boolean,raiseOnDrag:Boolean,cursor:String,zIndex:Number,angle:Number,autoRotation:Boolean,animation:String,shadow:Object,title:String,clickable:Boolean,extData:Object,textStyle:Object},data:()=>({events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]}),watch:{position(t){this.target&&this.target.setPosition(t)}},mounted(){n.then(t=>{this.textStyle&&(this.options.style=this.textStyle),this.target=new t.Text(this.options),this.visible||this.target.hide()})}},nt,[],!1,null,null,null);at.options.__file="package/elements/text.vue";var lt=at.exports,ht={name:"amap-ellipse",mixins:[p,l],render(){return this.$slots.default},data:()=>({target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,center:{type:[Object,Array],required:!0},radius:{type:Array,required:!0},bubble:Boolean,cursor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{center(t){this.target&&this.target.setCenter(t)},circleOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{circleOptions(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},created(){n.then(t=>{this.fillOpacity&&(this.options.fillOpacity=parseFloat(this.fillOpacity)),this.strokeOpacity&&(this.options.strokeOpacity=parseFloat(this.strokeOpacity)),this.target=new t.Ellipse(this.options),this.isEditor&&this.$parent.createEllipseEditor(this.target)})}},ct=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};ct._withStripped=!0;var dt=h({name:"amap-ellipse-editor",mixins:[l],data:()=>({target:null,isEditor:!1,events:["move","adjust","end"]}),inject:["getMap"],created(){},methods:{createEllipseEditor(t){n.then(e=>{this.getMap(i=>{this.target=new e.EllipseEditor(i,t)})})}}},ct,[],!1,null,null,null);dt.options.__file="package/plugins/ellipse-editor.vue";dt.exports;const ut=[d,f,y,S,L,D,R,P,W,q,G,H,F,z,O,k,it,U,st,Z,K,B,lt,ht],pt=[B];e.default={install(t,e={}){if(n.init("https://webapi.amap.com/maps",e),ut.forEach(e=>{t.component(e.name,e)}),e.enableLoca){const i="https://webapi.amap.com/loca",o={key:e.key,v:"1.3.0"};a.init(i,o),pt.forEach(e=>{t.component(e.name,e)})}}}}])}));