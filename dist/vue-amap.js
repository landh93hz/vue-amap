/* eslint-disable */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.amap=e():t.amap=e()}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=11)}([function(t,e,i){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},s=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function n(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},o=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],h=i[l]||0,c="".concat(l," ").concat(h);i[l]=h+1;var p=n(c),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(a[p].references++,a[p].updater(d)):a.push({identifier:c,updater:f(d,e),references:1}),o.push(c)}return o}function h(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=i.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=s(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,p=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,i,o){var r=i?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=p(e,r);else{var s=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function u(t,e,i){var o=i.css,r=i.media,s=i.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var g=null,m=0;function f(t,e){var i,o,r;if(e.singleton){var s=m++;i=g||(g=h(e)),o=d.bind(null,i,s,!1),r=d.bind(null,i,s,!0)}else i=h(e),o=u.bind(null,i,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<i.length;o++){var r=n(i[o]);a[r].references--}for(var s=l(t,e),h=0;h<i.length;h++){var c=n(i[h]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}i=s}}}},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var r=(a=o,n=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(l," */")),s=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[i].concat(s).concat([r]).join("\n")}var a,n,l;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var n=0;n<t.length;n++){var l=[].concat(t[n]);o&&r[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e,i){var o=i(0),r=i(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,i){var o=i(0),r=i(8);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,i){var o=i(0),r=i(10);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,i){"use strict";i(2)},function(t,e,i){(e=i(1)(!1)).push([t.i,".hidden-box[data-v-c8ccd62a]{display:none}\n",""]),t.exports=e},function(t,e,i){"use strict";i(3)},function(t,e,i){(e=i(1)(!1)).push([t.i,".hidden-box[data-v-13c2c04f]{display:none}\n",""]),t.exports=e},function(t,e,i){"use strict";i(4)},function(t,e,i){(e=i(1)(!1)).push([t.i,".hidden-box[data-v-4cb016fb]{display:none}\n",""]),t.exports=e},function(t,e,i){"use strict";i.r(e),i.d(e,"amapLoader",(function(){return a})),i.d(e,"locaLoader",(function(){return n}));var o=function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{width:"number"==typeof this.width?this.width+"px":this.width,height:"number"==typeof this.height?this.height+"px":this.height}},[this._t("default")],2)};function r(t,e,i){return new Promise((o,r)=>{if(window[t])o(window[t]);else{const s=document.createElement("script"),a=e+"?";let{plugins:n}=i;n&&(delete i.plugins,Array.isArray(n)&&(n=n.map(t=>{if("string"==typeof t)return 1===t.split(".").length?"AMap."+t:t;throw new Error("member of plugins must be string")}),i.plugin=n.join(",")),"string"==typeof n&&(i.plugin=n));let l="";i.v||(i.v="1.4.15");for(const t in i)l+=`${t}=${i[t]}&`;l.slice(0,l.length-1),s.src=a+l,document.head.append(s),s.onload=function(){window[t]?o(window[t]):r(void 0)}}})}o._withStripped=!0;function s(t){let e,i;const o=new Promise((t,o)=>{e=t,i=o});return o.init=async function(o,s){try{const i=await r(t,o,s);e&&e(i)}catch(e){throw i&&i(`Failed to load ${t} API at given ${o}`),new Error(""+e)}},o}const a=s("AMap"),n=s("Loca");var l={data:()=>({target:null,events:[],handleMap:{}}),mounted(){this.checkTarget()},beforeDestroy(){for(const t in this.handleMap)t&&this.target&&this.target.off(t,this.handleMap[t])},methods:{checkTarget(){this.target?(this.initEvents(),this.complete()):setTimeout(this.checkTarget,50)},initEvents(){for(const t of this.events){let e=e=>{this.$emit(t,e)};const i=Object.getOwnPropertyDescriptor(this,t);i&&"function"==typeof i.value&&(e=e=>{i.value.call(null,e),this.$emit(t,e)}),this.handleMap[t]=e,this.target.on(t,e)}},complete(){this.$emit("complete",this.target)}}};function h(t,e,i,o,r,s,a,n){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),o&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):r&&(l=n?function(){r.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:h}}var c=h({mixins:[l],name:"amap-map",provide(){return{getMap:this.getMap}},props:{height:{type:[Number,String],default:"100%"},width:{type:[Number,String],default:"100%"},layers:{type:Array},zooms:{type:Array},lang:{type:String},animateEnable:{type:Boolean,default:!0},isHotspot:{type:Boolean,default:!1},rotateEnable:{type:Boolean,default:!0},resizeEnable:{type:Boolean,default:!0},showIndoorMap:{type:Boolean,default:!0},expandZoomRange:{type:Boolean,default:!0},dragEnable:{type:Boolean,default:!0},zoomEnable:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},keyboardEnable:{type:Boolean,default:!0},jogEnable:{type:Boolean,default:!0},scrollWheel:{type:Boolean,default:!0},touchZoom:{type:Boolean,default:!0},mapStyle:{type:String},features:{type:Array},showBuildingBlock:{type:Boolean,default:!0},pitchEnable:{type:Boolean,default:!0},buildingAnimation:{type:Boolean,default:!0},skyColor:{type:String},mask:{type:Array},zoom:{type:Number,default:13},pitch:{type:Number,default:0},rotation:{type:Number,default:0},center:{type:[Object,Array]},bounds:{type:Object},city:{type:String},limitBounds:{type:Boolean},mapStatus:{type:Object},defaultCursor:{type:String},showLabel:{type:Boolean,default:!0},crs:{type:String,default:"EPSG3857",validator:t=>-1!==["EPSG3857","EPSG3395","EPSG4326"].indexOf(t)},viewMode:{type:String,default:"2D",validator:t=>-1!==["2D","3D"].indexOf(t)}},data:()=>({target:null,timer:null,events:["click","dbclick","mapmove","hotspotclick","hotspotover","hotspotout","movestart","moveend","zoomchange","zoomstart","zoomend","mousemove","mousewheel","mouseover","mouseout","mouseup","mousedown","rightclick","dragstart","dragging","dragend","resize","touchstart","touchmove","touchend"]}),created(){},mounted(){const t=Object.keys(this.$props),e={};for(const i of t)void 0!==this.$props[i]&&(e[i]=this.$props[i]);a.then(t=>{let i;if(Array.isArray(this.center))i=this.center;else if(this.center){const{lng:e,lat:o}=this.center;i=new t.LngLat(e,o)}e.center=i,this.target=new t.Map(this.$el,e),this.city&&this.target.setCity(this.city),this.target.on("complete",()=>{this.updateCity()})})},watch:{center(t){this.target&&this.target.setCenter(t)},rotation(t){this.target&&this.target.setRotation(t),this.updateBounds()},pitch(t){this.target&&this.pitchEnable&&this.target.setPitch(t),this.updateBounds()},zoom(t){this.target&&this.zoomEnable&&this.target.setZoom(t),this.updateBounds()},lang(t){this.target&&this.target.setLang(t)},city(t){this.target&&this.target.setCity(t)},limitBounds(t){if(!this.bounds)throw new Error("Make sure to set bounds when limitBounds is true");t?this.target.setLimitBounds(this.bounds):this.target.clearLimitBounds()},mapStatus:{deep:!0,immediate:!1,handler(t,e){const i=Object.keys(t),o={};for(const r in i)"boolean"==typeof t[r]&&t[r]!==e[r]&&(o[r]=t[r]);Object.keys(o).length>0&&this.target.setStatus(o)}},defaultCursor(t){this.target&&this.target.setDefaultCursor(t)},features(t){this.target&&this.target.setFeatures(t)},mapStyle(t){this.target&&this.target.setMapStyle(t)}},methods:{mousedown(){this.timer&&(clearInterval(this.timer),this.timer=null),this.timer||(this.timer=setInterval(()=>{this.$emit("update:pitch",this.target&&this.target.getPitch()),this.$emit("update:rotation",this.target&&this.target.getRotation())},100))},mouseup(){this.timer&&(clearInterval(this.timer),this.timer=null)},zoomchange(){this.$emit("update:zoom",this.target.getZoom()),this.updateBounds()},moveend(){this.$emit("update:center",this.target.getCenter()),this.updateBounds(),this.updateCity()},getMap(t){this.target?t(this.target):setTimeout(()=>{this.getMap(t)},50)},updateBounds(){let t;if("2D"===this.viewMode)t=this.target.getBounds();else{const e=this.target.getBounds();"AMap.ArrayBounds"===e.CLASS_NAME&&(t=e.toBounds())}this.$emit("update:bounds",t)},updateCity(){this.target.getCity(t=>{const{city:e}=t;this.$emit("update:city",e),this.$emit("getCity",t)})},setCenter(t){this.target&&this.target.setCenter(t)}},beforeDestroy(){},destroyed(){this.target.destroy(),this.target=null},deactivated(){}},o,[],!1,null,null,null);c.options.__file="package/elements/map.vue";var p=c.exports,d=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("content"),this._v(" "),this._t("label")],2)};function u(){const t=document.getElementsByTagName("script"),e=/https:\/\/webapi.amap.com\/maps?/;return[...t].map(t=>t.outerHTML.match(e)).filter(t=>t&&t.input)[0].input.search(/v=2.0/)>0?"v2":"v1"}function g(t,e,i){if("geojson"===e.type)return e;let o;return"FeatureCollection"===e.type?o=e:e.length&&0!==e.length&&(o={type:"FeatureCollection",features:[]},e.forEach(t=>{const e={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[]}},{longitude:r,latitude:s}=t;e.properties[i]=t[i],e.geometry.coordinates=[r,s],o.features.push(e)})),new t.GeoJSONSource({data:o})}d._withStripped=!0;var m={props:{visible:{type:[Boolean,Function],default:!0}},inject:["getMap"],data:()=>({target:null,options:null,locas:["HeatMap","Hexagon"],mapVersion:null}),watch:{visible(t){this.target&&(t?this.target.show():this.target.hide())}},created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)"visible"!==e&&void 0!==this.$props[e]&&(this.options[e]=this.$props[e])},beforeMount(){this.getMap(this.mapGetter)},beforeDestroy(){"v2"===this.mapVersion?this.target&&this._map.remove(this.target):this.target&&this.target.setMap&&this.target.setMap(null),this.target=null,this.$emit("destroy")},methods:{mapGetter(t){this._map=t,this.mapVersion=u(),setTimeout(()=>{if(this.target){this.visible||this.target.hide();const e=this.target.CLASS_NAME||this.target.className;if("AMAp.InfoWindow"===e)return;"v2"===this.mapVersion||"AMap.LabelsLayer"===e?(this.locas.includes(e)&&this.$parent.getLoca(t=>t.add(this.target)),t.add(this.target),"AMap.MassMarks"===e&&this.target.setMap&&this.target.setMap(t)):this.target.setMap&&this.target.setMap(t)}},0)}}},f={name:"amap-marker",mixins:[m,l],props:{topWhenClick:Boolean,bubble:Boolean,raiseOnDrag:Boolean,cursor:String,autoRotation:Boolean,anchor:String,offset:Object,icon:[Object,String],draggable:Boolean,zIndex:Number,angle:Number,animation:String,title:String,shadow:Object,content:[String,HTMLElement],label:[Object,String],labelOffset:Object,labelDirection:String,extData:Object,position:[Object,Array]},data:()=>({events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]}),watch:{position(t){this.target&&this.target.setPosition(t)},label(t){const e=document.createElement("div");e.textContent=t,this.target&&this.target.setLabel({content:e.outerHTML})}},mounted(){a.then(t=>{this.target=new t.Marker(this.options),this.visible||this.target.hide();const{label:e}=this;if("string"==typeof e){const t=document.createElement("div");t.textContent=e,this.target&&this.target.setLabel({content:t.outerHTML})}this.renderSlot()})},methods:{renderSlot(){const{content:t,label:e}=this;if(t)return this.target.setContent(t);if(e){let t=e;return"string"==typeof e&&(t={offset:this.labelOffset,content:e,direction:this.labelDirection||"right"}),this.target.setLabel(t)}const{content:i,label:o}=this.$slots;if(i){if(i.length>1)throw new Error("multi content slots in single marker");const t=this.$refs.hiddenBox.firstElementChild;if(t)return this.target.setContent(t)}if(o){if(o.length>1)throw new Error("multi label slots in single marker");const t=this.$refs.hiddenBox.firstElementChild;if(t){const e={offset:this.labelOffset,content:t,direction:this.labelDirection||"right"};return this.target.setLabel(e)}}}}},y=(i(5),h(f,d,[],!1,null,"c8ccd62a",null));y.options.__file="package/elements/marker.vue";var v=y.exports,b={name:"amap-polyline",mixins:[l,m],data:()=>({target:null,options:{},events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,bubble:Boolean,cursor:String,geodesic:Boolean,isOutline:Boolean,outlineColor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},strokeDasharray:Array,lineJoin:String,lineCap:String,draggable:Boolean,showDir:Boolean,extData:Object,path:{type:Array,required:!0},isEditor:{type:Boolean,default:!1}},watch:{path(t){this.target&&this.target.setPath(t)},polylineOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{polylineOptions(){return{showDir:this.showDir||!1,strokeColor:this.strokeColor||"green",strokeOpacity:this.strokeOpacity||1,strokeWeight:this.strokeWeight||2,draggable:this.draggable||!1,lineJoin:this.lineJoin||"miter",lineCap:this.lineCap||"butt",strokeDasharray:this.strokeDasharray||[],strokeStyle:this.strokeStyle||"solid",isOutline:this.isOutline||!1,borderWeight:this.borderWeight||0}}},created(){a.then(t=>{this.target=new t.Polyline(this.options);const e=t.v||t.version;this.isEditor&&("2.0"===e?this.$parent.createPolylineEditor&&this.$parent.createPolylineEditor(this.target):this.$parent.createPolyEditor&&this.$parent.createPolyEditor(this.target))})},render(){return this.$slots.default}},O=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("default",null,{data:this.data})],2)};O._withStripped=!0;var w={name:"amap-infowindow",mixins:[m,l],props:{isCustom:Boolean,autoMove:Boolean,closeWhenClickMap:{type:Boolean,default:!0},content:[String,HTMLDivElement],size:Object,anchor:String,offset:Object,position:{type:[Object,Array],required:!0},showShadow:Boolean,data:[String,Number,Object]},data:()=>({target:null,options:{},events:["open","change","close"]}),watch:{position(t){this.target&&this.target.setPosition(t)},visible(t){this.target&&(t?this.getMap(t=>{!this.target.getIsOpen()&&this.target.open(t,this.position)}):this.target.getIsOpen()&&this.target.close())}},created(){a.then(t=>{this.target=new t.InfoWindow(this.options),this.getMap(t=>{this.visible?this.target.open(t,this.position):this.target.close(),this.renderContent()})})},methods:{renderContent(){const t=this.$refs.hiddenBox;if(!t.firstChild)return;const e=t.firstChild;this.target.setContent(e)}}},k=(i(7),h(w,O,[],!1,null,"13c2c04f",null));k.options.__file="package/elements/infowindow.vue";var S=k.exports,x={name:"amap-massmarks",mixins:[m,l],render(){return this.$slots.default},props:{zIndex:Number,opacity:Number,cursor:String,zooms:Array,alwaysRender:{type:Boolean,default:!0},data:{required:!0,type:Array},bubble:Boolean,pointStyle:{type:[Object,Array,Function],required:!0}},data:()=>({options:{},target:null,events:["complete","click","dblclick","mouseout","mouseup","mousedown","touchstart","touchend"]}),created(){this.options.style=this.pointStyle,delete this.options.pointStyle,delete this.options.data,a.then(t=>{this.target=new t.MassMarks(this.data,this.options),this.visible||this.target.hide()})},watch:{data(t){this.target&&this.target.setData(t)}}},B={name:"amap-polygon",mixins:[m,l],render(){return this.$slots.default},props:{zIndex:Number,bubble:Boolean,cursor:String,strokeColor:String,strokeStyle:String,strokeWeight:Number,fillColor:String,fillOpacity:Number,draggable:Boolean,extData:[Number,String,Object],strokeDasharray:Array,path:{type:Array,required:!0},isEditor:{type:Boolean,default:!1}},watch:{path(t){this.target&&this.target.setPath(t)},polygonOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{polygonOptions(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},data:()=>({target:null,options:{},events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),created(){a.then(t=>{this.target=new t.Polygon(this.options);const e=t.v||t.version;this.isEditor&&("2.0"===e?this.$parent.createPolygonEditor&&this.$parent.createPolygonEditor(this.target):this.$parent.createPolyEditor&&this.$parent.createPolyEditor(this.target))})},methods:{dragend(){this.target&&this.draggable&&this.$emit("update:path",this.target.getPath())}}},_={name:"loca-heatmap",mixins:[l,m],render(){return this.$slots.default},props:{zIndex:{type:Number,default:10},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},zooms:{type:Array,default:()=>[2,20]},lnglat:{type:[String,Function],default:"lnglat"},type:String,points:{type:[Object,Array],required:!0},radius:{type:Number,required:!0},value:{type:String,default:"value"},color:{type:Object,required:!0},height:{type:Number,default:100},heightBezier:{type:Array,default:()=>[.4,.2,.4,.8]},max:{type:Number,default:null},min:{type:Number,default:null},unit:{type:String,default:"px"}},data:()=>({target:null,Loca:null,options:{},events:[],mapVersion:""}),watch:{points(t){if(this.target)if("v2"===this.mapVersion){const e=g(this.Loca,t,this.value);this.target.setSource(e,this.getStyleOption())}else{if("v1"!==this.mapVersion)throw new Error("Please checkout the map version");this.target.setData(t,this.dataOptions),this.target.setOptions({style:this.styleOptions}),this.target.render()}}},computed:{styleOptions(){const{radius:t,color:e,opacity:i}=this;return{radius:t,color:e,opacity:i}},dataOptions(){const{lnglat:t,value:e,type:i}=this;return{lnglat:t,value:e,type:i}}},methods:{delayedRender(){this.target&&"v2"===this.mapVersion?this.visible?this.target.show():this.target.hide():this.target&&"v1"===this.mapVersion?(this.target.getMap()||this.getMap(this.mapGetter),this.target.render(),this.visible?this.target.show():this.target.hide()):this.target||setTimeout(this.delayedRender,50)},getStyleOption(){const{radius:t,unit:e,color:i,heightBezier:o,max:r,min:s,height:a,value:n}=this;return{radius:t,unit:e,gradient:i,heightBezier:o,max:r,min:s,height:a,value:(t,e)=>e.properties[n]}},initLayerV2(t){const e=new t.HeatMapLayer(this.options);if(!this.points)return;const i=g(t,this.points,this.value),o=this.getStyleOption();e.setSource(i),e.setStyle(o),this.target=e,this.$parent.getLocaLayer&&this.$parent.getLocaLayer(this.locaLayerGetter)},initLayerV1(t){const e=new t.HeatmapLayer({});e.setData(this.points,this.dataOptions),e.setOptions({style:this.styleOptions}),this.target=e},locaLayerGetter(t){t.add(this.target),this.$once("hook:beforeDestroy",()=>{this.target&&t.remove(this.target)})},mapGetter(t){this.target&&this.target.setMap&&this.target.setMap(t)}},created(){this.mapVersion=u(),n.then(t=>{this.Loca=t,"v2"===this.mapVersion?this.initLayerV2(t):this.initLayerV1(t)})},mounted(){this.delayedRender()}},C=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};C._withStripped=!0;var E=h({name:"MapBounds",data:()=>({bounds:null}),provide(){return{getBounds:this.getBounds,setBounds:this.setBounds,areaBounds:this.bounds}},methods:{getBounds(){return this.bounds},setBounds(t){this.bounds=t}}},C,[],!1,null,null,null);E.options.__file="package/widgets/bounds.vue";E.exports;var j=function(t,e,i={}){return{name:e,props:i={...{zIndex:Number,opacity:Number,zooms:Array,detectRetina:Boolean},...i},mixins:[m,l],render(){return this.$slots.default},data:()=>({options:{},target:null}),created(){t instanceof Promise||t.then?t.then(t=>{this.createTarget(t)}):"function"==typeof t&&this.createTarget(t)},methods:{createTarget(t){if("function"!=typeof t)throw new TypeError("Ctor must be a constructor or Promise instance of constructor");this.target=new t(this.options),!this.visible&&this.target.hide()}}}};const M=new Promise(t=>{a.then(e=>{t(e.TileLayer.Satellite)})}),L=new Promise(t=>{a.then(e=>{t(e.TileLayer.RoadNet)})}),$=new Promise(t=>{a.then(e=>{t(e.TileLayer.Traffic)})}),P={autoRefsh:{type:Boolean,default:!1},interval:{type:Number,default:180}},N=new Promise(t=>{a.then(e=>{const i=e.v||e.version;t("2.0"===i?e.createDefaultLayer:e.TileLayer)})}),A=new Promise(t=>{a.then(e=>{t(e.Buildings)})}),T={heightFactor:Number,merge:Boolean,sort:Boolean},D=j(M,"amap-satellite"),z=j(L,"amap-roadnet"),R=j($,"amap-traffic",P),I=j(N,"amap-tilelayer"),V=j(A,"amap-buildings",T);var W={props:{visible:{type:Boolean,default:!0}},inject:["getMap"],data:()=>({target:null,options:null,key:""}),watch:{visible(t){this.target&&(t?this.showTarget():this.hideTarget())}},created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)"visible"!==e&&void 0!==this.$props[e]&&(this.options[e]=this.$props[e]);let e=this.key;a.then(t=>{"2.0"===(t.v||t.version)&&"OverView"===e&&(e="HawkEye");const i=t[e];if(!i)throw new Error(e+" is a plugin, you have to add it before invoked");this.createTarget(i)})},beforeMount(){this.getMap(this.mapGetter)},render(){return this.$slots.default},methods:{createTarget(t){this.target=new t(this.options)},mapGetter(t){setTimeout(()=>{this.target&&(t.addControl(this.target),this.visible||this.hideTarget())},0)},addControl(t){this.target&&t.addControl(this.target)},removeControl(t){try{this.target&&t&&t.removeControl(this.target)}catch(t){}},showTarget(){try{this.target.show()}catch(t){this.getMap(this.addControl)}},hideTarget(){try{this.target.hide()}catch(t){this.getMap(this.removeControl)}}},destroyed(){this.getMap(this.removeControl),this.target=null}},q={name:"amap-controlbar",mixins:[W,l],data:()=>({key:"ControlBar"}),props:{position:Object,showZoomBar:{type:Boolean,default:!0},showControlButton:{type:Boolean,default:!0}}},F={name:"amap-maptype",mixins:[W,l],data:()=>({key:"MapType"}),props:{defaultType:Number,showTraffic:Boolean,showRoad:Boolean}},G={name:"amap-overview",mixins:[W,l],props:{tileLayer:Object,isOpen:Boolean},data:()=>({key:"OverView",events:["show","hide","open","close"]}),watch:{isOpen(t){t?this.target.open():this.target.close()}}},H={name:"amap-scale",mixins:[W,l],data:()=>({key:"Scale",events:["show","hide"]})},U={name:"amap-toolbar",mixins:[W,l],props:{offset:Object,position:String,ruler:{type:Boolean,default:!0},noIpLocate:{type:Boolean,default:!1},locate:Boolean,liteStyle:Boolean,direction:Boolean,autoPosition:Boolean,locationMarker:Object,useNative:Boolean},data:()=>({key:"ToolBar",events:["show","hide","location","zoomchanged"]}),watch:{ruler(t){this.target&&t?this.target.showRuler:this.target.hideRuler},offset(t){this.target&&this.target.setOffset(t)},direction(t){this.target&&t?this.target.showDirection():this.target.hideDirection()},locate(t){this.target&&t?this.target.showLocation():this.target.hideLocation()}}},J={name:"amap-rectangle",mixins:[m,l],render(){return this.$slots.default},data:()=>({target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,bounds:{type:[Object,Array],require:!0},bubble:Boolean,cursor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{bounds(t){this.target&&this.target.setBounds(t)},rectangleOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{rectangleOptions(){return{strokeColor:this.strokeColor||"#006600",strokeOpacity:this.strokeOpacity||1,strokeWeight:this.strokeWeight||2,strokeDasharray:this.strokeDasharray||[],strokeStyle:this.strokeStyle||"solid"}}},created(){a.then(t=>{this.bounds instanceof Array&&(this.options.bounds=new t.Bounds(new t.LngLat(this.bounds[0][0],this.bounds[0][1]),new t.LngLat(this.bounds[1][0],this.bounds[1][1]))),this.target=new t.Rectangle(this.options),this.isEditor&&this.$parent.createRectangleEditor&&this.$parent.createRectangleEditor(this.target)})}},Z={name:"amap-circle",mixins:[m,l],render(){return this.$slots.default},data:()=>({target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,center:{type:[Object,Array],required:!0},bubble:Boolean,cursor:String,radius:{type:Number,required:!0},strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{center(t){this.target&&this.target.setCenter(t)},circleOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{circleOptions(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},created(){a.then(t=>{this.fillOpacity&&(this.options.fillOpacity=parseFloat(this.fillOpacity)),this.strokeOpacity&&(this.options.strokeOpacity=parseFloat(this.strokeOpacity)),this.target=new t.Circle(this.options),this.isEditor&&this.$parent.createCircleEditor&&this.$parent.createCircleEditor(this.target)})}},X=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"hiddenBox",staticClass:"hidden-box"},[this._t("content"),this._v(" "),this._t("label")],2)};X._withStripped=!0;var Y={name:"amap-circle-marker",mixins:[m,l],props:{zIndex:Number,center:{type:[Object,Array],require:!0},bubble:Boolean,radius:{type:Number,require:!0},strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,extData:Object},data:()=>({events:["click","dblclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),watch:{center(t){this.target&&this.target.setPosition(t)}},mounted(){a.then(t=>{this.fillOpacity&&(this.options.fillOpacity=parseFloat(this.fillOpacity)),this.strokeOpacity&&(this.options.strokeOpacity=parseFloat(this.strokeOpacity)),this.target=new t.CircleMarker(this.options),this.visible||this.target.hide()})}},K=(i(9),h(Y,X,[],!1,null,"4cb016fb",null));K.options.__file="package/elements/circlemarker.vue";var Q=K.exports,tt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};tt._withStripped=!0;var et=h({name:"amap-circle-editor",mixins:[l,m],props:{createOptions:Object,editOptions:Object,movePoint:Object,resizePoint:Object},data:()=>({target:null,events:["addnode","adjust","move","add","end"]}),inject:["getMap"],created(){a.then(t=>{"2.0"===(t.v||t.version)&&this.createCircleEditor()})},methods:{createCircleEditor(t){a.then(e=>{this.getMap(i=>{this.target=new e.CircleEditor(i,t,this.options)})})}}},tt,[],!1,null,null,null);et.options.__file="package/plugins/circle-editor.vue";var it=et.exports,ot=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};ot._withStripped=!0;var rt=h({name:"amap-polyeditor",mixins:[l],data:()=>({target:null,events:["addnode","adjust","removenode","end"]}),inject:["getMap"],created(){},methods:{createPolyEditor(t){a.then(e=>{this.getMap(i=>{this.target=new e.PolyEditor(i,t)})})}}},ot,[],!1,null,null,null);rt.options.__file="package/plugins/polyeditor.vue";var st=rt.exports,at=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};at._withStripped=!0;var nt=h({name:"amap-rectangle-editor",mixins:[l],props:{createOptions:Object,editOptions:Object,southWestPoint:Object,northEastPoint:Object},data:()=>({target:null,events:["addnode","adjust","move","add","end"]}),inject:["getMap"],created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)void 0!==this.$props[e]&&(this.options[e]=this.$props[e]);a.then(t=>{"2.0"===(t.v||t.version)&&this.createRectangleEditor()})},methods:{createRectangleEditor(t){a.then(e=>{this.getMap(i=>{this.target=new e.RectangleEditor(i,t,this.options)})})}}},at,[],!1,null,null,null);nt.options.__file="package/plugins/rectangle-editor.vue";var lt=nt.exports,ht=function(){var t=this.$createElement;return(this._self._c||t)("div")};ht._withStripped=!0;var ct=h({name:"amap-text",mixins:[m,l],props:{text:{type:String,require:!0},position:[Object,Array],anchor:String,offset:Object,topWhenClick:Boolean,bubble:Boolean,draggable:Boolean,raiseOnDrag:Boolean,cursor:String,zIndex:Number,angle:Number,autoRotation:Boolean,animation:String,shadow:Object,title:String,clickable:Boolean,extData:Object,textStyle:Object},data:()=>({events:["click","dblclick","rightclick","mousemove","mouseover","mouseout","mousedown","mouseup","dragstart","dragging","dragend","moving","moveend","movealong","touchstart","touchmove","touchend"]}),watch:{position(t){this.target&&this.target.setPosition(t)}},mounted(){a.then(t=>{this.textStyle&&(this.options.style=this.textStyle),this.target=new t.Text(this.options),this.visible||this.target.hide()})}},ht,[],!1,null,null,null);ct.options.__file="package/elements/text.vue";var pt=ct.exports,dt={name:"amap-ellipse",mixins:[m,l],render(){return this.$slots.default},data:()=>({target:null,options:{},events:["click","dbclick","rightclick","hide","show","mousedown","mouseup","mouseover","mouseout","change","touchstart","touchmove","touchend"]}),props:{zIndex:Number,center:{type:[Object,Array],required:!0},radius:{type:Array,required:!0},bubble:Boolean,cursor:String,strokeColor:String,strokeOpacity:String,strokeWeight:Number,fillColor:String,fillOpacity:String,strokeStyle:{type:String,default:"solid",validator:t=>-1!==["solid","dashed"].indexOf(t)},extData:Object,strokeDasharray:Array,isEditor:{type:Boolean,default:!1}},watch:{center(t){this.target&&this.target.setCenter(t)},circleOptions:{deep:!0,immediate:!1,handler(t){this.target&&this.target.setOptions(t)}}},computed:{circleOptions(){return{strokeColor:this.strokeColor||"green",fillColor:this.fillColor,fillOpacity:this.fillOpacity,strokeStyle:this.strokeStyle,strokeWeight:this.strokeWeight}}},created(){a.then(t=>{this.fillOpacity&&(this.options.fillOpacity=parseFloat(this.fillOpacity)),this.strokeOpacity&&(this.options.strokeOpacity=parseFloat(this.strokeOpacity)),this.target=new t.Ellipse(this.options),this.isEditor&&this.$parent.createEllipseEditor&&this.$parent.createEllipseEditor(this.target)})}},ut=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};ut._withStripped=!0;var gt=h({name:"amap-ellipse-editor",mixins:[l],props:{createOptions:Object,editOptions:Object,movePoint:Object,resizeXPoint:Object,resizeYPoint:Object},data:()=>({target:null,events:["addnode","adjust","move","add","end"]}),inject:["getMap"],created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)void 0!==this.$props[e]&&(this.options[e]=this.$props[e]);a.then(t=>{"2.0"===(t.v||t.version)&&this.createEllipseEditor()})},methods:{createEllipseEditor(t){a.then(e=>{this.getMap(i=>{this.target=new e.EllipseEditor(i,t,this.options)})})}}},ut,[],!1,null,null,null);gt.options.__file="package/plugins/ellipse-editor.vue";var mt=gt.exports,ft=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};ft._withStripped=!0;var yt=h({name:"amap-polyline-editor",mixins:[l,m],props:{createOptions:Object,editOptions:Object,controlPoint:Object,midControlPoint:Object},data:()=>({target:null,AMap:null,events:["addnode","adjust","removenode","add","end"]}),inject:["getMap"],created(){this.createPolylineEditor()},methods:{createPolylineEditor(t){this.target?this.target.setTarget(t):a.then(e=>{"2.0"===(e.v||e.version)&&this.getMap(i=>{this.target=new e.PolylineEditor(i,t,this.options)})})},createPolyEditor(t){a.then(e=>{this.getMap(i=>{this.target=new e.PolyEditor(i,t)})})}}},ft,[],!1,null,null,null);yt.options.__file="package/plugins/polyline-editor.vue";var vt=yt.exports,bt=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};bt._withStripped=!0;var Ot=h({name:"amap-polygon-editor",mixins:[l,m],props:{createOptions:Object,editOptions:Object,controlPoint:Object,midControlPoint:Object},data:()=>({target:null,events:["addnode","removenode","adjust","move","add","end"]}),inject:["getMap"],created(){this.createPolygonEditor()},methods:{createPolygonEditor(t){this.target?this.target.setTarget(t):a.then(e=>{"2.0"===(e.v||e.version)&&this.getMap(i=>{this.target=new e.PolygonEditor(i,t,this.options)})})},createPolyEditor(t){a.then(e=>{this.getMap(i=>{this.target=new e.PolyEditor(i,t)})})}}},bt,[],!1,null,null,null);Ot.options.__file="package/plugins/polygon-editor.vue";var wt=Ot.exports,kt={name:"loca-hexagon",mixins:[l,m],render(){return this.$slots.default},props:{zIndex:{type:Number,default:10},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},zooms:{type:Array,default:()=>[2,20]},cullface:{type:String,default:"back"},acceptLight:{type:Boolean,default:!0},depth:{type:Boolean,default:!0},shininess:{type:Number,default:30},hasSide:{type:Boolean,default:!0},points:{required:!0},topColor:{type:String,default:"#ffffff"},sideColor:{type:String,default:"#ff0000"},altitude:{type:Number,default:0},height:{type:Number,default:0},radius:{type:Number,default:1e3},gap:{type:Number,default:0},unit:{type:String,default:"meter"}},data:()=>({target:null,Loca:null,options:{},events:[]}),watch:{points(t){if(this.target)if("v2"===this.mapVersion){const e=g(this.Loca,t,this.value);this.target.setSource(e,this.getStyleOption())}else{if("v1"!==this.mapVersion)throw new Error("Please checkout the map version");this.target.setData(t,this.dataOptions),this.target.setOptions({style:this.styleOptions}),this.target.render()}}},methods:{getStyleOption(){const{topColor:t,sideColor:e,altitude:i,height:o,radius:r,gap:s,unit:a,value:n}=this;return{topColor:t,sideColor:e,altitude:i,height:o,radius:r,gap:s,unit:a,value:(t,e)=>e.properties[n]}},locaLayerGetter(t){t.add(this.target),this.$once("hook:beforeDestroy",()=>{this.target&&t.remove(this.target)})}},created(){this.mapVersion=u(),n.then(t=>{this.Loca=t,"v2"===this.mapVersion&&setTimeout(()=>{const e=new t.HexagonLayer(this.options),i=g(t,this.points,this.value),o=this.getStyleOption();e.setSource(i),e.setStyle(o),this.target=e,this.$parent.getLocaLayer&&this.$parent.getLocaLayer(this.locaLayerGetter)},50)})},mounted(){}},St=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};St._withStripped=!0;var xt=h({name:"loca",mixins:[l],render(){return this.$slots.default},props:{ambLight:Object,dirLight:Object,pointLight:Object,viewControl:Object},provide(){return{getLocaLayer:this.getLocaLayer}},inject:["getMap"],data:()=>({target:null,Loca:null,options:{},events:[]}),created(){!this.options&&(this.options={});const t=Object.keys(this.$props);for(const e of t)void 0!==this.$props[e]&&(this.options[e]=this.$props[e]);this.getMap(t=>{n.then(e=>{this.target=new e.Container({map:t,...this.options})})})},methods:{getLocaLayer(t){this.target?t(this.target):setTimeout(()=>this.getLocaLayer(t),50)}}},St,[],!1,null,null,null);xt.options.__file="package/loca/loca.vue";var Bt=xt.exports,_t=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};_t._withStripped=!0;var Ct=h({name:"amap-labels-layer",mixins:[m],render(){return this.$slots.default},props:{zIndex:{type:Number},opacity:{type:Number},collision:{type:Boolean},animation:{type:Boolean}},data:()=>({AMap:null,options:{},target:null}),provide(){return{getLabelsLayer:this.getLabelsLayer}},created(){a.then(t=>{this.AMap=t,this.target=new t.LabelsLayer(this.options),this.visible||this.target.hide(),this.complete()})},methods:{getLabelsLayer(t){this.target?t(this.target):setTimeout(()=>this.getLabelsLayer(t),50)},complete(){this.$emit("complete",this.target)}},beforeDestroy(){this.target&&this.target.clear()}},_t,[],!1,null,null,null);Ct.options.__file="package/elements/labelsLayer.vue";const Et=[p,v,b,B,z,D,I,R,q,F,H,U,G,V,x,S,st,J,lt,Z,it,Q,_,pt,dt,mt,kt,vt,wt,Bt,Ct.exports,{name:"amap-label-marker",mixins:[l],render(){return this.$slots.default},props:{data:{type:Object,require:!0},extData:{type:Object}},inject:["getLabelsLayer"],data:()=>({AMap:null,target:null,events:["complete","click","mouseover","mousemove","mouseout","mouseup","mousedown","touchstart","touchend"]}),created(){this.mapVersion=u(),a.then(t=>{this.AMap=t;const{position:e,icon:i,text:o,zooms:r}=this.data;this.target=new this.AMap.LabelMarker({position:e,icon:i,text:o,zooms:r}),this.extData&&this.target.setExtData(this.extData),"v1"===this.mapVersion&&this.getLabelsLayer(this.layerGetter)})},methods:{layerGetter(t){t.add(this.target),this.$once("hook:beforeDestroy",()=>{this.target&&t.remove(this.target)})}}}],jt=[_];e.default={install(t,e={}){if(a.init("https://webapi.amap.com/maps",e),Et.forEach(e=>{t.component(e.name,e)}),e.enableLoca){const i="https://webapi.amap.com/loca",o=parseFloat(e.v)>=2?"2.0.0":"1.3.0",r={key:e.key,v:o};n.init(i,r),jt.forEach(e=>{t.component(e.name,e)})}}}}])}));
